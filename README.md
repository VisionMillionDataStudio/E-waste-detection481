# ç”µå­åºŸç‰©æ£€æµ‹å›æ”¶æ£€æµ‹ç³»ç»Ÿæºç åˆ†äº«
 # [ä¸€æ¡é¾™æ•™å­¦YOLOV8æ ‡æ³¨å¥½çš„æ•°æ®é›†ä¸€é”®è®­ç»ƒ_70+å…¨å¥—æ”¹è¿›åˆ›æ–°ç‚¹å‘åˆŠ_Webå‰ç«¯å±•ç¤º]

### 1.ç ”ç©¶èƒŒæ™¯ä¸æ„ä¹‰

é¡¹ç›®å‚è€ƒ[AAAI Association for the Advancement of Artificial Intelligence](https://gitee.com/qunshansj/projects)

é¡¹ç›®æ¥æº[AACV Association for the Advancement of Computer Vision](https://gitee.com/qunmasj/projects)

ç ”ç©¶èƒŒæ™¯ä¸æ„ä¹‰

éšç€å…¨çƒç”µå­äº§å“çš„å¿«é€Ÿå‘å±•å’Œæ™®åŠï¼Œç”µå­åºŸç‰©ï¼ˆE-wasteï¼‰é—®é¢˜æ—¥ç›Šä¸¥é‡ã€‚æ ¹æ®è”åˆå›½ç¯å¢ƒè§„åˆ’ç½²çš„æŠ¥å‘Šï¼Œå…¨çƒæ¯å¹´äº§ç”Ÿçš„ç”µå­åºŸç‰©æ•°é‡å·²è¶…è¿‡5000ä¸‡å¨ï¼Œé¢„è®¡åˆ°2030å¹´è¿™ä¸€æ•°å­—å°†è¾¾åˆ°7400ä¸‡å¨ã€‚ç”µå­åºŸç‰©ä¸ä»…å ç”¨äº†å¤§é‡çš„èµ„æºï¼Œè¿˜å¯¹ç¯å¢ƒå’Œäººç±»å¥åº·é€ æˆäº†æ½œåœ¨çš„å¨èƒã€‚ç”µå­äº§å“ä¸­å«æœ‰å¤šç§æœ‰å®³ç‰©è´¨ï¼Œå¦‚é‡é‡‘å±å’Œæœ‰æœºæ±¡æŸ“ç‰©ï¼Œè¿™äº›ç‰©è´¨åœ¨ä¸å½“å¤„ç†æ—¶ä¼šæ¸—å…¥åœŸå£¤å’Œæ°´æºï¼Œé€ æˆç”Ÿæ€ç¯å¢ƒçš„ç ´åã€‚å› æ­¤ï¼Œå¼€å‘é«˜æ•ˆçš„ç”µå­åºŸç‰©æ£€æµ‹ä¸å›æ”¶ç³»ç»Ÿï¼Œèƒ½å¤Ÿæœ‰æ•ˆä¿ƒè¿›èµ„æºçš„å¾ªç¯åˆ©ç”¨ï¼Œå‡å°‘ç¯å¢ƒæ±¡æŸ“ï¼Œå…·æœ‰é‡è¦çš„ç°å®æ„ä¹‰ã€‚

åœ¨æ­¤èƒŒæ™¯ä¸‹ï¼ŒåŸºäºæ”¹è¿›YOLOv8çš„ç”µå­åºŸç‰©æ£€æµ‹å›æ”¶ç³»ç»Ÿåº”è¿è€Œç”Ÿã€‚YOLOï¼ˆYou Only Look Onceï¼‰ç³»åˆ—æ¨¡å‹å› å…¶é«˜æ•ˆçš„å®æ—¶ç›®æ ‡æ£€æµ‹èƒ½åŠ›è€Œå—åˆ°å¹¿æ³›å…³æ³¨ã€‚YOLOv8ä½œä¸ºè¯¥ç³»åˆ—çš„æœ€æ–°ç‰ˆæœ¬ï¼Œå…·å¤‡æ›´é«˜çš„æ£€æµ‹ç²¾åº¦å’Œé€Ÿåº¦ï¼Œé€‚åˆåœ¨å¤æ‚ç¯å¢ƒä¸­è¿›è¡Œç”µå­åºŸç‰©çš„è‡ªåŠ¨è¯†åˆ«ä¸åˆ†ç±»ã€‚é€šè¿‡å¯¹YOLOv8æ¨¡å‹çš„æ”¹è¿›ï¼Œå¯ä»¥è¿›ä¸€æ­¥æå‡å…¶åœ¨ç”µå­åºŸç‰©æ£€æµ‹ä¸­çš„æ€§èƒ½ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤„ç†å¤šç±»åˆ«ç‰©ä½“æ—¶çš„å‡†ç¡®æ€§å’Œé²æ£’æ€§ã€‚

æœ¬ç ”ç©¶ä½¿ç”¨çš„æ•°æ®é›†åŒ…å«2500å¼ å›¾åƒï¼Œæ¶µç›–äº†å››ä¸ªä¸»è¦ç±»åˆ«ï¼šç”µæ± ã€ç›¸æœºã€æ¶²æ™¶æ˜¾ç¤ºå™¨ï¼ˆLCDï¼‰å’Œå°åˆ·ç”µè·¯æ¿ï¼ˆPCBï¼‰ã€‚è¿™äº›ç±»åˆ«ä»£è¡¨äº†ç”µå­åºŸç‰©ä¸­å¸¸è§çš„ç»„æˆéƒ¨åˆ†ï¼Œå„è‡ªå…·æœ‰ä¸åŒçš„ç‰©ç†ç‰¹æ€§å’Œå›æ”¶ä»·å€¼ã€‚é€šè¿‡å¯¹è¿™äº›ç±»åˆ«çš„æ·±å…¥åˆ†æå’Œæ¨¡å‹è®­ç»ƒï¼Œå¯ä»¥å®ç°å¯¹ç”µå­åºŸç‰©çš„é«˜æ•ˆåˆ†ç±»ä¸è¯†åˆ«ï¼Œä»è€Œä¸ºåç»­çš„å›æ”¶å¤„ç†æä¾›å‡†ç¡®çš„æ•°æ®æ”¯æŒã€‚

åœ¨æŠ€æœ¯å±‚é¢ï¼Œæ”¹è¿›YOLOv8æ¨¡å‹çš„ç ”ç©¶ä¸ä»…æœ‰åŠ©äºæå‡ç”µå­åºŸç‰©æ£€æµ‹çš„æ•ˆç‡ï¼Œè¿˜èƒ½å¤Ÿä¸ºå…¶ä»–é¢†åŸŸçš„ç›®æ ‡æ£€æµ‹æä¾›å€Ÿé‰´ã€‚ä¾‹å¦‚ï¼Œåœ¨å·¥ä¸šè‡ªåŠ¨åŒ–ã€æ™ºèƒ½ç›‘æ§ç­‰é¢†åŸŸï¼Œå¿«é€Ÿã€å‡†ç¡®çš„ç›®æ ‡è¯†åˆ«æŠ€æœ¯åŒæ ·å…·æœ‰é‡è¦çš„åº”ç”¨ä»·å€¼ã€‚æ­¤å¤–ï¼Œéšç€äººå·¥æ™ºèƒ½æŠ€æœ¯çš„ä¸æ–­å‘å±•ï¼ŒåŸºäºæ·±åº¦å­¦ä¹ çš„ç›®æ ‡æ£€æµ‹æ–¹æ³•å°†åœ¨æ›´å¤šçš„å®é™…åº”ç”¨ä¸­å‘æŒ¥å…³é”®ä½œç”¨ã€‚

ä»ç¤¾ä¼šå±‚é¢æ¥çœ‹ï¼Œç”µå­åºŸç‰©çš„æœ‰æ•ˆæ£€æµ‹ä¸å›æ”¶ä¸ä»…èƒ½å¤Ÿå‡å°‘ç¯å¢ƒæ±¡æŸ“ï¼Œè¿˜èƒ½å¤Ÿä¿ƒè¿›èµ„æºçš„å¯æŒç»­åˆ©ç”¨ï¼Œæ¨åŠ¨å¾ªç¯ç»æµçš„å‘å±•ã€‚é€šè¿‡æ„å»ºé«˜æ•ˆçš„ç”µå­åºŸç‰©æ£€æµ‹å›æ”¶ç³»ç»Ÿï¼Œå¯ä»¥æé«˜å…¬ä¼—å¯¹ç”µå­åºŸç‰©å›æ”¶çš„æ„è¯†ï¼Œé¼“åŠ±æ›´å¤šçš„ä¼ä¸šå’Œä¸ªäººå‚ä¸åˆ°ç”µå­åºŸç‰©çš„å›æ”¶ä¸å†åˆ©ç”¨ä¸­æ¥ï¼Œä»è€Œå½¢æˆè‰¯å¥½çš„ç¤¾ä¼šæ°›å›´ã€‚

ç»¼ä¸Šæ‰€è¿°ï¼ŒåŸºäºæ”¹è¿›YOLOv8çš„ç”µå­åºŸç‰©æ£€æµ‹å›æ”¶ç³»ç»Ÿçš„ç ”ç©¶ï¼Œæ—¢å…·æœ‰é‡è¦çš„å­¦æœ¯ä»·å€¼ï¼Œä¹Ÿå…·æœ‰æ˜¾è‘—çš„ç¤¾ä¼šæ„ä¹‰ã€‚é€šè¿‡æœ¬ç ”ç©¶çš„æ·±å…¥å¼€å±•ï¼Œå°†ä¸ºç”µå­åºŸç‰©çš„ç®¡ç†ä¸å›æ”¶æä¾›æ–°çš„æ€è·¯å’Œæ–¹æ³•ï¼Œæ¨åŠ¨ç›¸å…³é¢†åŸŸçš„æŠ€æœ¯è¿›æ­¥ä¸åº”ç”¨è½åœ°ï¼Œä¸ºå®ç°å¯æŒç»­å‘å±•ç›®æ ‡è´¡çŒ®åŠ›é‡ã€‚

### 2.å›¾ç‰‡æ¼”ç¤º

![1.png](1.png)

![2.png](2.png)

![3.png](3.png)

##### æ³¨æ„ï¼šç”±äºæ­¤åšå®¢ç¼–è¾‘è¾ƒæ—©ï¼Œä¸Šé¢â€œ2.å›¾ç‰‡æ¼”ç¤ºâ€å’Œâ€œ3.è§†é¢‘æ¼”ç¤ºâ€å±•ç¤ºçš„ç³»ç»Ÿå›¾ç‰‡æˆ–è€…è§†é¢‘å¯èƒ½ä¸ºè€ç‰ˆæœ¬ï¼Œæ–°ç‰ˆæœ¬åœ¨è€ç‰ˆæœ¬çš„åŸºç¡€ä¸Šå‡çº§å¦‚ä¸‹ï¼šï¼ˆå®é™…æ•ˆæœä»¥å‡çº§çš„æ–°ç‰ˆæœ¬ä¸ºå‡†ï¼‰

  ï¼ˆ1ï¼‰é€‚é…äº†YOLOV8çš„â€œç›®æ ‡æ£€æµ‹â€æ¨¡å‹å’Œâ€œå®ä¾‹åˆ†å‰²â€æ¨¡å‹ï¼Œé€šè¿‡åŠ è½½ç›¸åº”çš„æƒé‡ï¼ˆ.ptï¼‰æ–‡ä»¶å³å¯è‡ªé€‚åº”åŠ è½½æ¨¡å‹ã€‚

  ï¼ˆ2ï¼‰æ”¯æŒâ€œå›¾ç‰‡è¯†åˆ«â€ã€â€œè§†é¢‘è¯†åˆ«â€ã€â€œæ‘„åƒå¤´å®æ—¶è¯†åˆ«â€ä¸‰ç§è¯†åˆ«æ¨¡å¼ã€‚

  ï¼ˆ3ï¼‰æ”¯æŒâ€œå›¾ç‰‡è¯†åˆ«â€ã€â€œè§†é¢‘è¯†åˆ«â€ã€â€œæ‘„åƒå¤´å®æ—¶è¯†åˆ«â€ä¸‰ç§è¯†åˆ«ç»“æœä¿å­˜å¯¼å‡ºï¼Œè§£å†³æ‰‹åŠ¨å¯¼å‡ºï¼ˆå®¹æ˜“å¡é¡¿å‡ºç°çˆ†å†…å­˜ï¼‰å­˜åœ¨çš„é—®é¢˜ï¼Œè¯†åˆ«å®Œè‡ªåŠ¨ä¿å­˜ç»“æœå¹¶å¯¼å‡ºåˆ°tempDirä¸­ã€‚

  ï¼ˆ4ï¼‰æ”¯æŒWebå‰ç«¯ç³»ç»Ÿä¸­çš„æ ‡é¢˜ã€èƒŒæ™¯å›¾ç­‰è‡ªå®šä¹‰ä¿®æ”¹ï¼Œåé¢æä¾›ä¿®æ”¹æ•™ç¨‹ã€‚

  å¦å¤–æœ¬é¡¹ç›®æä¾›è®­ç»ƒçš„æ•°æ®é›†å’Œè®­ç»ƒæ•™ç¨‹,æš‚ä¸æä¾›æƒé‡æ–‡ä»¶ï¼ˆbest.ptï¼‰,éœ€è¦æ‚¨æŒ‰ç…§æ•™ç¨‹è¿›è¡Œè®­ç»ƒåå®ç°å›¾ç‰‡æ¼”ç¤ºå’ŒWebå‰ç«¯ç•Œé¢æ¼”ç¤ºçš„æ•ˆæœã€‚

### 3.è§†é¢‘æ¼”ç¤º

[3.1 è§†é¢‘æ¼”ç¤º](https://www.bilibili.com/video/BV1cK4mebEHt/)

### 4.æ•°æ®é›†ä¿¡æ¯å±•ç¤º

##### 4.1 æœ¬é¡¹ç›®æ•°æ®é›†è¯¦ç»†æ•°æ®ï¼ˆç±»åˆ«æ•°ï¼†ç±»åˆ«åï¼‰

nc: 4
names: ['Battery', 'Camera', 'LCD', 'PCB']


##### 4.2 æœ¬é¡¹ç›®æ•°æ®é›†ä¿¡æ¯ä»‹ç»

æ•°æ®é›†ä¿¡æ¯å±•ç¤º

åœ¨å½“ä»Šæ•°å­—åŒ–æ—¶ä»£ï¼Œç”µå­åºŸç‰©çš„å¤„ç†ä¸å›æ”¶æˆä¸ºäº†ä¸€ä¸ªäºŸå¾…è§£å†³çš„ç¯å¢ƒé—®é¢˜ã€‚ä¸ºäº†è§£å†³è¿™ä¸€é—®é¢˜ï¼Œæˆ‘ä»¬æ„å»ºäº†ä¸€ä¸ªä¸“é—¨ç”¨äºè®­ç»ƒæ”¹è¿›YOLOv8çš„ç”µå­åºŸç‰©æ£€æµ‹å›æ”¶ç³»ç»Ÿçš„æ•°æ®é›†ï¼Œå‘½åä¸ºâ€œE-waste detectionâ€ã€‚è¯¥æ•°æ®é›†æ—¨åœ¨ä¸ºç”µå­åºŸç‰©çš„è‡ªåŠ¨è¯†åˆ«ä¸åˆ†ç±»æä¾›å¼ºæœ‰åŠ›çš„æ”¯æŒï¼Œä»è€Œæå‡å›æ”¶æ•ˆç‡ï¼Œå‡å°‘ç¯å¢ƒæ±¡æŸ“ã€‚

â€œE-waste detectionâ€æ•°æ®é›†åŒ…å«å››ä¸ªä¸»è¦ç±»åˆ«ï¼Œåˆ†åˆ«æ˜¯ç”µæ± ï¼ˆBatteryï¼‰ã€ç›¸æœºï¼ˆCameraï¼‰ã€æ¶²æ™¶æ˜¾ç¤ºå™¨ï¼ˆLCDï¼‰å’Œå°åˆ·ç”µè·¯æ¿ï¼ˆPCBï¼‰ã€‚è¿™äº›ç±»åˆ«ä»£è¡¨äº†ç”µå­åºŸç‰©ä¸­å¸¸è§çš„ç»„æˆéƒ¨åˆ†ï¼Œæ¶µç›–äº†ä»æ¶ˆè´¹ç”µå­äº§å“åˆ°å·¥ä¸šè®¾å¤‡çš„å¹¿æ³›èŒƒå›´ã€‚æ¯ä¸ªç±»åˆ«çš„é€‰æ‹©éƒ½ç»è¿‡äº†æ·±æ€ç†Ÿè™‘ï¼Œæ—¨åœ¨åæ˜ å½“å‰ç”µå­åºŸç‰©å›æ”¶è¡Œä¸šçš„å®é™…éœ€æ±‚ä¸æŒ‘æˆ˜ã€‚

åœ¨æ•°æ®é›†çš„æ„å»ºè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬æ³¨é‡æ•°æ®çš„å¤šæ ·æ€§ä¸ä»£è¡¨æ€§ã€‚æ¯ä¸ªç±»åˆ«ä¸‹çš„æ•°æ®æ ·æœ¬å‡æ¥è‡ªäºä¸åŒçš„æ¥æºï¼Œç¡®ä¿æ¶µç›–äº†å„ç§å½¢æ€ã€å°ºå¯¸å’Œé¢œè‰²çš„ç”µå­åºŸç‰©ã€‚è¿™ç§å¤šæ ·æ€§ä¸ä»…å¢å¼ºäº†æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ï¼Œè¿˜èƒ½æœ‰æ•ˆåº”å¯¹ç°å®ä¸–ç•Œä¸­å¯èƒ½é‡åˆ°çš„å„ç§æƒ…å†µã€‚ä¾‹å¦‚ï¼Œç”µæ± æ ·æœ¬åŒ…æ‹¬äº†é”‚ç”µæ± ã€é•æ°¢ç”µæ± ç­‰ä¸åŒç±»å‹ï¼Œè€Œç›¸æœºæ ·æœ¬åˆ™æ¶µç›–äº†æ•°ç ç›¸æœºã€ç›‘æ§æ‘„åƒå¤´ç­‰å¤šç§è®¾å¤‡ã€‚è¿™ç§ä¸°å¯Œçš„æ ·æœ¬åº“ä½¿å¾—æ¨¡å‹åœ¨å®é™…åº”ç”¨ä¸­èƒ½å¤Ÿæ›´å‡†ç¡®åœ°è¯†åˆ«å’Œåˆ†ç±»ä¸åŒç±»å‹çš„ç”µå­åºŸç‰©ã€‚

æ•°æ®é›†çš„æ ‡æ³¨å·¥ä½œä¹ŸåŒæ ·é‡è¦ã€‚æˆ‘ä»¬é‡‡ç”¨äº†ä¸¥æ ¼çš„æ ‡æ³¨æ ‡å‡†ï¼Œç¡®ä¿æ¯ä¸ªæ ·æœ¬éƒ½ç»è¿‡ä¸“ä¸šäººå‘˜çš„ä»”ç»†å®¡æŸ¥ä¸æ ‡æ³¨ã€‚æ¯ä¸ªç±»åˆ«çš„æ ·æœ¬éƒ½é™„æœ‰è¯¦ç»†çš„æ ‡ç­¾ä¿¡æ¯ï¼ŒåŒ…æ‹¬ç±»åˆ«åç§°ã€è¾¹ç•Œæ¡†åæ ‡ç­‰ã€‚è¿™äº›ä¿¡æ¯ä¸ºæ¨¡å‹çš„è®­ç»ƒæä¾›äº†åšå®çš„åŸºç¡€ï¼Œä½¿å…¶èƒ½å¤Ÿåœ¨å¤æ‚çš„ç¯å¢ƒä¸­å¿«é€Ÿè€Œå‡†ç¡®åœ°è¿›è¡Œç›®æ ‡æ£€æµ‹ã€‚

åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†â€œE-waste detectionâ€æ•°æ®é›†ä¸æ”¹è¿›çš„YOLOv8æ¨¡å‹ç›¸ç»“åˆï¼Œæ—¨åœ¨æå‡ç”µå­åºŸç‰©æ£€æµ‹çš„å‡†ç¡®æ€§ä¸æ•ˆç‡ã€‚YOLOv8ä½œä¸ºä¸€ç§å…ˆè¿›çš„ç›®æ ‡æ£€æµ‹ç®—æ³•ï¼Œå…·æœ‰å¿«é€Ÿå“åº”å’Œé«˜ç²¾åº¦çš„ç‰¹ç‚¹ï¼Œéå¸¸é€‚åˆäºå®æ—¶æ£€æµ‹ä»»åŠ¡ã€‚é€šè¿‡ä½¿ç”¨è¿™ä¸€æ•°æ®é›†ï¼Œæˆ‘ä»¬æœŸæœ›èƒ½å¤Ÿè®­ç»ƒå‡ºä¸€ä¸ªèƒ½å¤Ÿåœ¨å„ç§ç¯å¢ƒä¸‹é«˜æ•ˆå·¥ä½œçš„ç”µå­åºŸç‰©æ£€æµ‹ç³»ç»Ÿï¼Œä»è€Œä¸ºç”µå­åºŸç‰©çš„å›æ”¶åˆ©ç”¨æä¾›æŠ€æœ¯æ”¯æŒã€‚

æ­¤å¤–ï¼Œæ•°æ®é›†çš„å¼€æ”¾æ€§ä¹Ÿä¸ºç ”ç©¶äººå‘˜å’Œå¼€å‘è€…æä¾›äº†å®è´µçš„èµ„æºã€‚æˆ‘ä»¬é¼“åŠ±å­¦æœ¯ç•Œå’Œå·¥ä¸šç•Œçš„åŒè¡Œä½¿ç”¨è¿™ä¸€æ•°æ®é›†è¿›è¡Œç›¸å…³ç ”ç©¶ï¼Œæ¨åŠ¨ç”µå­åºŸç‰©æ£€æµ‹æŠ€æœ¯çš„å‘å±•ã€‚é€šè¿‡å…±äº«æ•°æ®é›†ï¼Œæˆ‘ä»¬å¸Œæœ›èƒ½å¤Ÿä¿ƒè¿›æŠ€æœ¯çš„è¿›æ­¥ï¼Œæœ€ç»ˆå®ç°æ›´é«˜æ•ˆçš„ç”µå­åºŸç‰©ç®¡ç†ä¸å›æ”¶ç³»ç»Ÿã€‚

æ€»ä¹‹ï¼Œâ€œE-waste detectionâ€æ•°æ®é›†ä¸ä»…æ˜¯ä¸€ä¸ªç”¨äºè®­ç»ƒYOLOv8æ¨¡å‹çš„å·¥å…·ï¼Œæ›´æ˜¯æ¨åŠ¨ç”µå­åºŸç‰©æ£€æµ‹ä¸å›æ”¶æŠ€æœ¯è¿›æ­¥çš„é‡è¦èµ„æºã€‚é€šè¿‡ä¸æ–­ä¼˜åŒ–ä¸æ‰©å±•è¿™ä¸€æ•°æ®é›†ï¼Œæˆ‘ä»¬æœŸæœ›åœ¨æœªæ¥èƒ½å¤Ÿä¸ºç¯å¢ƒä¿æŠ¤è´¡çŒ®ä¸€ä»½åŠ›é‡ã€‚

![4.png](4.png)

![5.png](5.png)

![6.png](6.png)

![7.png](7.png)

![8.png](8.png)

### 5.å…¨å¥—é¡¹ç›®ç¯å¢ƒéƒ¨ç½²è§†é¢‘æ•™ç¨‹ï¼ˆé›¶åŸºç¡€æ‰‹æŠŠæ‰‹æ•™å­¦ï¼‰

[5.1 ç¯å¢ƒéƒ¨ç½²æ•™ç¨‹é“¾æ¥ï¼ˆé›¶åŸºç¡€æ‰‹æŠŠæ‰‹æ•™å­¦ï¼‰](https://www.ixigua.com/7404473917358506534?logTag=c807d0cbc21c0ef59de5)




[5.2 å®‰è£…Pythonè™šæ‹Ÿç¯å¢ƒåˆ›å»ºå’Œä¾èµ–åº“å®‰è£…è§†é¢‘æ•™ç¨‹é“¾æ¥ï¼ˆé›¶åŸºç¡€æ‰‹æŠŠæ‰‹æ•™å­¦ï¼‰](https://www.ixigua.com/7404474678003106304?logTag=1f1041108cd1f708b01a)

### 6.æ‰‹æŠŠæ‰‹YOLOV8è®­ç»ƒè§†é¢‘æ•™ç¨‹ï¼ˆé›¶åŸºç¡€å°ç™½æœ‰æ‰‹å°±èƒ½å­¦ä¼šï¼‰

[6.1 æ‰‹æŠŠæ‰‹YOLOV8è®­ç»ƒè§†é¢‘æ•™ç¨‹ï¼ˆé›¶åŸºç¡€å°ç™½æœ‰æ‰‹å°±èƒ½å­¦ä¼šï¼‰](https://www.ixigua.com/7404477157818401292?logTag=d31a2dfd1983c9668658)

### 7.70+ç§å…¨å¥—YOLOV8åˆ›æ–°ç‚¹ä»£ç åŠ è½½è°ƒå‚è§†é¢‘æ•™ç¨‹ï¼ˆä¸€é”®åŠ è½½å†™å¥½çš„æ”¹è¿›æ¨¡å‹çš„é…ç½®æ–‡ä»¶ï¼‰

[7.1 70+ç§å…¨å¥—YOLOV8åˆ›æ–°ç‚¹ä»£ç åŠ è½½è°ƒå‚è§†é¢‘æ•™ç¨‹ï¼ˆä¸€é”®åŠ è½½å†™å¥½çš„æ”¹è¿›æ¨¡å‹çš„é…ç½®æ–‡ä»¶ï¼‰](https://www.ixigua.com/7404478314661806627?logTag=29066f8288e3f4eea3a4)

### 8.70+ç§å…¨å¥—YOLOV8åˆ›æ–°ç‚¹åŸç†è®²è§£ï¼ˆéç§‘ç­ä¹Ÿå¯ä»¥è½»æ¾å†™åˆŠå‘åˆŠï¼ŒV10ç‰ˆæœ¬æ­£åœ¨ç§‘ç ”å¾…æ›´æ–°ï¼‰

ç”±äºç¯‡å¹…é™åˆ¶ï¼Œæ¯ä¸ªåˆ›æ–°ç‚¹çš„å…·ä½“åŸç†è®²è§£å°±ä¸ä¸€ä¸€å±•å¼€ï¼Œå…·ä½“è§ä¸‹åˆ—ç½‘å€ä¸­çš„åˆ›æ–°ç‚¹å¯¹åº”å­é¡¹ç›®çš„æŠ€æœ¯åŸç†åšå®¢ç½‘å€ã€Blogã€‘ï¼š

![9.png](9.png)

[8.1 70+ç§å…¨å¥—YOLOV8åˆ›æ–°ç‚¹åŸç†è®²è§£é“¾æ¥](https://gitee.com/qunmasj/good)

### 9.ç³»ç»ŸåŠŸèƒ½å±•ç¤ºï¼ˆæ£€æµ‹å¯¹è±¡ä¸ºä¸¾ä¾‹ï¼Œå®é™…å†…å®¹ä»¥æœ¬é¡¹ç›®æ•°æ®é›†ä¸ºå‡†ï¼‰

å›¾9.1.ç³»ç»Ÿæ”¯æŒæ£€æµ‹ç»“æœè¡¨æ ¼æ˜¾ç¤º

  å›¾9.2.ç³»ç»Ÿæ”¯æŒç½®ä¿¡åº¦å’ŒIOUé˜ˆå€¼æ‰‹åŠ¨è°ƒèŠ‚

  å›¾9.3.ç³»ç»Ÿæ”¯æŒè‡ªå®šä¹‰åŠ è½½æƒé‡æ–‡ä»¶best.pt(éœ€è¦ä½ é€šè¿‡æ­¥éª¤5ä¸­è®­ç»ƒè·å¾—)

  å›¾9.4.ç³»ç»Ÿæ”¯æŒæ‘„åƒå¤´å®æ—¶è¯†åˆ«

  å›¾9.5.ç³»ç»Ÿæ”¯æŒå›¾ç‰‡è¯†åˆ«

  å›¾9.6.ç³»ç»Ÿæ”¯æŒè§†é¢‘è¯†åˆ«

  å›¾9.7.ç³»ç»Ÿæ”¯æŒè¯†åˆ«ç»“æœæ–‡ä»¶è‡ªåŠ¨ä¿å­˜

  å›¾9.8.ç³»ç»Ÿæ”¯æŒExcelå¯¼å‡ºæ£€æµ‹ç»“æœæ•°æ®

![10.png](10.png)

![11.png](11.png)

![12.png](12.png)

![13.png](13.png)

![14.png](14.png)

![15.png](15.png)

![16.png](16.png)

![17.png](17.png)

### 10.åŸå§‹YOLOV8ç®—æ³•åŸç†

åŸå§‹YOLOv8ç®—æ³•åŸç†

YOLOv8ç®—æ³•æ˜¯ç›®æ ‡æ£€æµ‹é¢†åŸŸçš„ä¸€æ¬¡é‡è¦è¿›åŒ–ï¼Œç”±Glenn-Jocheræå‡ºï¼Œä½œä¸ºYOLOç³»åˆ—çš„æœ€æ–°ç‰ˆæœ¬ï¼ŒYOLOv8åœ¨å¤šä¸ªæ–¹é¢è¿›è¡Œäº†æ˜¾è‘—çš„æ”¹è¿›å’Œåˆ›æ–°ï¼Œæ—¨åœ¨æé«˜ç›®æ ‡æ£€æµ‹çš„ç²¾åº¦å’Œæ•ˆç‡ã€‚å…¶æ¶æ„ç”±è¾“å…¥å±‚ã€ä¸»å¹²ç½‘ç»œã€é¢ˆéƒ¨ç½‘ç»œå’Œå¤´éƒ¨ç½‘ç»œç­‰ä¸»è¦ç»„ä»¶æ„æˆï¼Œå½¢æˆäº†ä¸€ä¸ªé«˜æ•ˆçš„ç‰¹å¾æå–å’Œç›®æ ‡æ£€æµ‹æµç¨‹ã€‚

åœ¨YOLOv8ä¸­ï¼Œè¾“å…¥å›¾åƒé¦–å…ˆä¼šè¢«ç¼©æ”¾è‡³æŒ‡å®šçš„å°ºå¯¸ï¼Œä»¥é€‚åº”ç½‘ç»œçš„è¾“å…¥è¦æ±‚ã€‚ä¸»å¹²ç½‘ç»œè´Ÿè´£å¯¹å›¾åƒè¿›è¡Œç‰¹å¾æå–ï¼Œå…¶æ ¸å¿ƒæ˜¯é€šè¿‡å·ç§¯æ“ä½œå®ç°ä¸‹é‡‡æ ·ã€‚æ¯ä¸ªå·ç§¯å±‚éƒ½åŒ…å«æ‰¹å½’ä¸€åŒ–å’ŒSiLURæ¿€æ´»å‡½æ•°ï¼Œè¿™ç§è®¾è®¡ä½¿å¾—ç½‘ç»œåœ¨è®­ç»ƒè¿‡ç¨‹ä¸­èƒ½å¤Ÿæ›´å¿«åœ°æ”¶æ•›å¹¶æé«˜äº†æ¨¡å‹çš„éçº¿æ€§è¡¨è¾¾èƒ½åŠ›ã€‚ä¸»å¹²ç½‘ç»œçš„è®¾è®¡çµæ„Ÿéƒ¨åˆ†æ¥æºäºYOLOv5ï¼Œé‡‡ç”¨äº†æ¸…æ™°çš„æ¶æ„è§„å¾‹ï¼Œé€šè¿‡æ­¥é•¿ä¸º2çš„3Ã—3å·ç§¯å±‚è¿›è¡Œç‰¹å¾å›¾çš„é™é‡‡æ ·ï¼Œæ¥ç€é€šè¿‡C2fæ¨¡å—è¿›ä¸€æ­¥å¼ºåŒ–ç‰¹å¾æå–ã€‚C2fæ¨¡å—çš„å¼•å…¥æ˜¯YOLOv8çš„ä¸€å¤§äº®ç‚¹ï¼Œå®ƒå€Ÿé‰´äº†YOLOv7ä¸­çš„E-ELANç»“æ„ï¼Œé€šè¿‡è·¨å±‚åˆ†æ”¯è¿æ¥å¢å¼ºäº†æ¨¡å‹çš„æ¢¯åº¦æµåŠ¨ï¼Œæ”¹å–„äº†æ£€æµ‹ç»“æœã€‚è¿™ç§è®¾è®¡ä¸ä»…ä¸°å¯Œäº†ç‰¹å¾çš„è¡¨è¾¾èƒ½åŠ›ï¼Œè¿˜æé«˜äº†ç½‘ç»œå¯¹ä¸åŒå°ºåº¦ç›®æ ‡çš„é€‚åº”æ€§ã€‚

åœ¨ä¸»å¹²ç½‘ç»œçš„æœ«å°¾ï¼ŒYOLOv8å¼•å…¥äº†SPPFlæ¨¡å—ï¼Œè¯¥æ¨¡å—é€šè¿‡ä¸‰ä¸ªæœ€å¤§æ± åŒ–å±‚å¤„ç†å¤šå°ºåº¦ç‰¹å¾ï¼Œè¿›ä¸€æ­¥å¢å¼ºäº†ç½‘ç»œçš„ç‰¹å¾æŠ½è±¡èƒ½åŠ›ã€‚è¿™ç§å¤šå°ºåº¦ç‰¹å¾å¤„ç†çš„æ–¹å¼ï¼Œä½¿å¾—YOLOv8åœ¨é¢å¯¹å¤æ‚åœºæ™¯æ—¶ï¼Œèƒ½å¤Ÿæ›´å¥½åœ°æ•æ‰åˆ°ç›®æ ‡çš„å¤šæ ·æ€§å’Œå˜åŒ–æ€§ã€‚

é¢ˆéƒ¨ç½‘ç»œçš„è®¾è®¡åŒæ ·è‡³å…³é‡è¦ï¼ŒYOLOv8é‡‡ç”¨äº†FPNï¼ˆç‰¹å¾é‡‘å­—å¡”ç½‘ç»œï¼‰å’ŒPANï¼ˆè·¯å¾„èšåˆç½‘ç»œï¼‰ç»“æ„ï¼Œä»¥èåˆä¸åŒå°ºåº¦ç‰¹å¾å›¾çš„ä¿¡æ¯ã€‚è¿™ç§ç‰¹å¾èåˆç­–ç•¥ä½¿å¾—YOLOv8èƒ½å¤Ÿæœ‰æ•ˆåœ°æ•´åˆæ¥è‡ªä¸»å¹²ç½‘ç»œçš„å¤šå±‚æ¬¡ç‰¹å¾ï¼Œç¡®ä¿åœ¨ç›®æ ‡æ£€æµ‹è¿‡ç¨‹ä¸­ï¼Œç½‘ç»œèƒ½å¤Ÿå……åˆ†åˆ©ç”¨æ¯ä¸€å±‚çš„ç‰¹å¾ä¿¡æ¯ï¼Œæå‡æ£€æµ‹çš„å‡†ç¡®æ€§å’Œé²æ£’æ€§ã€‚

åœ¨æ£€æµ‹å¤´çš„è®¾è®¡ä¸Šï¼ŒYOLOv8è¿›è¡Œäº†é©å‘½æ€§çš„æ”¹è¿›ï¼Œé‡‡ç”¨äº†è§£è€¦çš„æ£€æµ‹å¤´ç»“æ„ã€‚ä¸ä¹‹å‰ç‰ˆæœ¬çš„è€¦åˆæ£€æµ‹å¤´ä¸åŒï¼ŒYOLOv8é€šè¿‡ä¸¤ä¸ªå¹¶è¡Œçš„å·ç§¯åˆ†æ”¯åˆ†åˆ«è®¡ç®—å›å½’å’Œç±»åˆ«çš„æŸå¤±ï¼Œè¿™ç§è§£è€¦è®¾è®¡ä½¿å¾—æ¨¡å‹åœ¨å¤„ç†åˆ†ç±»å’Œå®šä½ä»»åŠ¡æ—¶èƒ½å¤Ÿæ›´åŠ ä¸“æ³¨ï¼Œé¿å…äº†ä¸¤è€…ä¹‹é—´çš„å¹²æ‰°ï¼Œæé«˜äº†æ•´ä½“çš„æ£€æµ‹æ€§èƒ½ã€‚

æ­¤å¤–ï¼ŒYOLOv8åœ¨æ•°æ®é¢„å¤„ç†æ–¹é¢å»¶ç»­äº†YOLOv5çš„ç­–ç•¥ï¼Œé‡‡ç”¨äº†é©¬èµ›å…‹å¢å¼ºã€æ··åˆå¢å¼ºã€ç©ºé—´æ‰°åŠ¨å’Œé¢œè‰²æ‰°åŠ¨ç­‰å¤šç§å¢å¼ºæ‰‹æ®µï¼Œä»¥æé«˜æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›å’Œé²æ£’æ€§ã€‚åœ¨æ ‡ç­¾åˆ†é…ç­–ç•¥ä¸Šï¼ŒYOLOv8é‡‡ç”¨äº†TOODç­–ç•¥ï¼Œè¿™æ˜¯ä¸€ç§åŠ¨æ€æ ‡ç­¾åˆ†é…æ–¹æ³•ï¼Œæ—¨åœ¨è§£å†³æ­£è´Ÿæ ·æœ¬åŒ¹é…çš„å¤šå°ºåº¦åˆ†é…é—®é¢˜ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼ŒYOLOv8èƒ½å¤Ÿæ›´å‡†ç¡®åœ°å¤„ç†ä¸åŒå°ºåº¦ç›®æ ‡çš„æ£€æµ‹ä»»åŠ¡ï¼Œæå‡äº†æ¨¡å‹åœ¨å¤æ‚åœºæ™¯ä¸‹çš„è¡¨ç°ã€‚

YOLOv8çš„æŸå¤±å‡½æ•°è®¾è®¡ä¹Ÿä½“ç°äº†å…¶åˆ›æ–°æ€§ã€‚åˆ†ç±»æŸå¤±é‡‡ç”¨äº†VFL Lossï¼ˆVarifocal Lossï¼‰ï¼Œè€Œå›å½’æŸå¤±åˆ™ç»“åˆäº†CIoULossä¸DFLLossã€‚VFL Lossé€šè¿‡ä¸å¯¹ç§°å‚æ•°å¯¹æ­£è´Ÿæ ·æœ¬è¿›è¡ŒåŠ æƒï¼Œä½¿å¾—æ¨¡å‹åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­èƒ½å¤Ÿæ›´åŠ å…³æ³¨é«˜è´¨é‡çš„æ­£æ ·æœ¬ï¼Œä»è€Œæå‡æ£€æµ‹ç²¾åº¦ã€‚å¯¹äºè´Ÿæ ·æœ¬ï¼ŒVFL Lossåˆ™é€šè¿‡è¡°å‡å…¶å¯¹æŸå¤±çš„è´¡çŒ®ï¼Œç¡®ä¿æ¨¡å‹åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­ä¸ä¼šå—åˆ°è¿‡å¤šä½è´¨é‡æ ·æœ¬çš„å¹²æ‰°ã€‚

æ€»çš„æ¥è¯´ï¼ŒYOLOv8åœ¨ä¿ç•™YOLOç³»åˆ—ä¸€è´¯çš„é«˜æ•ˆæ€§å’Œæ˜“ç”¨æ€§çš„åŸºç¡€ä¸Šï¼Œé€šè¿‡å¼•å…¥C2fæ¨¡å—ã€è§£è€¦æ£€æµ‹å¤´ã€åŠ¨æ€æ ‡ç­¾åˆ†é…ç­–ç•¥ä»¥åŠåˆ›æ–°çš„æŸå¤±å‡½æ•°ç­‰å¤šé¡¹æŠ€æœ¯ï¼Œæ˜¾è‘—æå‡äº†ç›®æ ‡æ£€æµ‹çš„ç²¾åº¦å’Œé€Ÿåº¦ã€‚å…¶åœ¨è®¡ç®—æœºè§†è§‰é¢†åŸŸçš„åº”ç”¨æ½œåŠ›å·¨å¤§ï¼Œä¸ä»…é€‚ç”¨äºä¼ ç»Ÿçš„ç›®æ ‡æ£€æµ‹ä»»åŠ¡ï¼Œè¿˜æ‰©å±•åˆ°äº†å®ä¾‹åˆ†å‰²å’Œå§¿æ€è¯„ä¼°ç­‰æ›´å¤æ‚çš„ä»»åŠ¡ä¸­ï¼Œå±•ç°äº†å…¶å¹¿æ³›çš„é€‚ç”¨æ€§å’Œå¼ºå¤§çš„æ€§èƒ½ã€‚éšç€YOLOv8çš„æ¨å‡ºï¼Œç›®æ ‡æ£€æµ‹æŠ€æœ¯å°†è¿æ¥æ–°çš„å‘å±•æœºé‡ï¼Œä¸ºå„ç±»æ™ºèƒ½åº”ç”¨æä¾›æ›´ä¸ºå¼ºå¤§çš„æ”¯æŒã€‚

![18.png](18.png)

### 11.é¡¹ç›®æ ¸å¿ƒæºç è®²è§£ï¼ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒçœ‹ä¸æ‡‚ä»£ç é€»è¾‘ï¼‰

#### 11.1 code\ultralytics\utils\checks.py

ä»¥ä¸‹æ˜¯å¯¹ç»™å®šä»£ç çš„æ ¸å¿ƒéƒ¨åˆ†è¿›è¡Œåˆ†æå’Œè¯¦ç»†æ³¨é‡Šçš„ç»“æœï¼š

```python
import re
from pathlib import Path
from typing import List, Dict, Optional
from ultralytics.utils import SimpleNamespace, LOGGER

def parse_requirements(file_path=Path("requirements.txt"), package="") -> List[Dict[str, str]]:
    """
    è§£æ requirements.txt æ–‡ä»¶ï¼Œå¿½ç•¥ä»¥ '#' å¼€å¤´çš„è¡Œå’Œ '#' åçš„ä»»ä½•æ–‡æœ¬ã€‚

    å‚æ•°:
        file_path (Path): requirements.txt æ–‡ä»¶çš„è·¯å¾„ã€‚
        package (str, optional): è¦ä½¿ç”¨çš„ Python åŒ…åï¼Œå¦‚æœæä¾›åˆ™å¿½ç•¥æ–‡ä»¶å†…å®¹ã€‚

    è¿”å›:
        List[Dict[str, str]]: è§£æåçš„éœ€æ±‚åˆ—è¡¨ï¼Œæ¯ä¸ªéœ€æ±‚ä¸ºåŒ…å« `name` å’Œ `specifier` çš„å­—å…¸ã€‚
    """
    if package:
        # å¦‚æœæä¾›äº†åŒ…åï¼Œåˆ™è·å–è¯¥åŒ…çš„ä¾èµ–
        requires = [x for x in metadata.distribution(package).requires if "extra == " not in x]
    else:
        # ä»æ–‡ä»¶ä¸­è¯»å–ä¾èµ–
        requires = Path(file_path).read_text().splitlines()

    requirements = []
    for line in requires:
        line = line.strip()
        if line and not line.startswith("#"):
            line = line.split("#")[0].strip()  # å¿½ç•¥è¡Œå†…æ³¨é‡Š
            match = re.match(r"([a-zA-Z0-9-_]+)\s*([<>!=~]+.*)?", line)
            if match:
                # å°†è§£æå‡ºçš„éœ€æ±‚æ·»åŠ åˆ°åˆ—è¡¨ä¸­
                requirements.append(SimpleNamespace(name=match[1], specifier=match[2].strip() if match[2] else ""))

    return requirements


def check_version(current: str, required: str, name: str = "version", hard: bool = False, verbose: bool = False) -> bool:
    """
    æ£€æŸ¥å½“å‰ç‰ˆæœ¬æ˜¯å¦æ»¡è¶³æ‰€éœ€ç‰ˆæœ¬æˆ–èŒƒå›´ã€‚

    å‚æ•°:
        current (str): å½“å‰ç‰ˆæœ¬æˆ–åŒ…åã€‚
        required (str): æ‰€éœ€ç‰ˆæœ¬æˆ–èŒƒå›´ï¼ˆä»¥ pip é£æ ¼æ ¼å¼ï¼‰ã€‚
        name (str, optional): åœ¨è­¦å‘Šæ¶ˆæ¯ä¸­ä½¿ç”¨çš„åç§°ã€‚
        hard (bool, optional): å¦‚æœä¸º Trueï¼Œåˆ™åœ¨ä¸æ»¡è¶³è¦æ±‚æ—¶å¼•å‘ AssertionErrorã€‚
        verbose (bool, optional): å¦‚æœä¸º Trueï¼Œåˆ™åœ¨ä¸æ»¡è¶³è¦æ±‚æ—¶æ‰“å°è­¦å‘Šæ¶ˆæ¯ã€‚
    
    è¿”å›:
        bool: å¦‚æœæ»¡è¶³è¦æ±‚åˆ™è¿”å› Trueï¼Œå¦åˆ™è¿”å› Falseã€‚
    """
    if not current:
        LOGGER.warning(f"WARNING âš ï¸ invalid check_version({current}, {required}) requested, please check values.")
        return True

    # è§£æå½“å‰ç‰ˆæœ¬
    c = parse_version(current)
    result = True
    for r in required.strip(",").split(","):
        op, version = re.match(r"([^0-9]*)([\d.]+)", r).groups()  # åˆ†ç¦»æ“ä½œç¬¦å’Œç‰ˆæœ¬å·
        v = parse_version(version)
        # æ ¹æ®æ“ä½œç¬¦æ£€æŸ¥ç‰ˆæœ¬
        if op == "==" and c != v:
            result = False
        elif op == "!=" and c == v:
            result = False
        elif op in (">=", "") and not (c >= v):
            result = False
        elif op == "<=" and not (c <= v):
            result = False
        elif op == ">" and not (c > v):
            result = False
        elif op == "<" and not (c < v):
            result = False

    if not result:
        warning = f"WARNING âš ï¸ {name}{op}{version} is required, but {name}=={current} is currently installed."
        if hard:
            raise ModuleNotFoundError(warning)
        if verbose:
            LOGGER.warning(warning)
    return result


def check_python(minimum: str = "3.8.0") -> bool:
    """
    æ£€æŸ¥å½“å‰ Python ç‰ˆæœ¬æ˜¯å¦æ»¡è¶³æ‰€éœ€çš„æœ€ä½ç‰ˆæœ¬ã€‚

    å‚æ•°:
        minimum (str): æ‰€éœ€çš„æœ€ä½ Python ç‰ˆæœ¬ã€‚

    è¿”å›:
        bool: å¦‚æœå½“å‰ç‰ˆæœ¬æ»¡è¶³è¦æ±‚åˆ™è¿”å› Trueï¼Œå¦åˆ™è¿”å› Falseã€‚
    """
    return check_version(platform.python_version(), minimum, name="Python ", hard=True)


def check_requirements(requirements=Path("requirements.txt"), exclude=(), install=True, cmds="") -> bool:
    """
    æ£€æŸ¥å·²å®‰è£…çš„ä¾èµ–é¡¹æ˜¯å¦æ»¡è¶³è¦æ±‚ï¼Œå¹¶åœ¨éœ€è¦æ—¶å°è¯•è‡ªåŠ¨æ›´æ–°ã€‚

    å‚æ•°:
        requirements (Union[Path, str, List[str]]): requirements.txt æ–‡ä»¶çš„è·¯å¾„ï¼Œå•ä¸ªåŒ…éœ€æ±‚å­—ç¬¦ä¸²ï¼Œæˆ–åŒ…éœ€æ±‚å­—ç¬¦ä¸²åˆ—è¡¨ã€‚
        exclude (Tuple[str]): è¦æ’é™¤çš„åŒ…åå…ƒç»„ã€‚
        install (bool): å¦‚æœä¸º Trueï¼Œåˆ™å°è¯•è‡ªåŠ¨æ›´æ–°ä¸æ»¡è¶³è¦æ±‚çš„åŒ…ã€‚
        cmds (str): åœ¨è‡ªåŠ¨æ›´æ–°æ—¶ä¼ é€’ç»™ pip install å‘½ä»¤çš„é™„åŠ å‘½ä»¤ã€‚

    è¿”å›:
        bool: å¦‚æœæ‰€æœ‰è¦æ±‚éƒ½æ»¡è¶³åˆ™è¿”å› Trueï¼Œå¦åˆ™è¿”å› Falseã€‚
    """
    check_python()  # æ£€æŸ¥ Python ç‰ˆæœ¬
    if isinstance(requirements, Path):
        file = requirements.resolve()
        assert file.exists(), f"requirements file {file} not found."
        requirements = [f"{x.name}{x.specifier}" for x in parse_requirements(file) if x.name not in exclude]
    elif isinstance(requirements, str):
        requirements = [requirements]

    pkgs = []
    for r in requirements:
        match = re.match(r"([a-zA-Z0-9-_]+)([<>!=~]+.*)?", r)
        name, required = match[1], match[2].strip() if match[2] else ""
        try:
            assert check_version(metadata.version(name), required)
        except (AssertionError, metadata.PackageNotFoundError):
            pkgs.append(r)

    if pkgs and install:
        # å¦‚æœéœ€è¦æ›´æ–°åŒ…
        LOGGER.info(f"Ultralytics requirements {pkgs} not found, attempting AutoUpdate...")
        try:
            assert is_online(), "AutoUpdate skipped (offline)"
            subprocess.check_output(f"pip install --no-cache {' '.join(pkgs)} {cmds}", shell=True)
            LOGGER.info(f"AutoUpdate success âœ… installed packages: {pkgs}")
        except Exception as e:
            LOGGER.warning(f"AutoUpdate failed âŒ {e}")
            return False

    return True
```

### ä»£ç åˆ†æä¸æ³¨é‡Š

1. **`parse_requirements` å‡½æ•°**:
   - è¯¥å‡½æ•°ç”¨äºè§£æ `requirements.txt` æ–‡ä»¶ï¼Œæå–å‡ºæ¯ä¸ªä¾èµ–åŒ…çš„åç§°å’Œç‰ˆæœ¬è¦æ±‚ï¼Œå¹¶è¿”å›ä¸€ä¸ªåŒ…å«è¿™äº›ä¿¡æ¯çš„åˆ—è¡¨ã€‚

2. **`check_version` å‡½æ•°**:
   - è¯¥å‡½æ•°ç”¨äºæ£€æŸ¥å½“å‰ç‰ˆæœ¬æ˜¯å¦æ»¡è¶³æ‰€éœ€ç‰ˆæœ¬çš„è¦æ±‚ã€‚å®ƒæ”¯æŒå¤šç§æ¯”è¾ƒæ“ä½œç¬¦ï¼ˆå¦‚ `==`, `!=`, `>=`, `<` ç­‰ï¼‰ï¼Œå¹¶æ ¹æ®éœ€è¦è¾“å‡ºè­¦å‘Šä¿¡æ¯ã€‚

3. **`check_python` å‡½æ•°**:
   - æ£€æŸ¥å½“å‰ Python ç‰ˆæœ¬æ˜¯å¦æ»¡è¶³æœ€ä½è¦æ±‚ã€‚

4. **`check_requirements` å‡½æ•°**:
   - è¯¥å‡½æ•°æ£€æŸ¥å·²å®‰è£…çš„ä¾èµ–é¡¹æ˜¯å¦æ»¡è¶³è¦æ±‚ï¼Œå¹¶åœ¨éœ€è¦æ—¶å°è¯•è‡ªåŠ¨æ›´æ–°ä¸æ»¡è¶³è¦æ±‚çš„åŒ…ã€‚å®ƒé¦–å…ˆæ£€æŸ¥ Python ç‰ˆæœ¬ï¼Œç„¶åè§£æ `requirements.txt` æ–‡ä»¶ä¸­çš„ä¾èµ–é¡¹ï¼Œå¹¶é€ä¸€éªŒè¯æ¯ä¸ªåŒ…çš„ç‰ˆæœ¬ã€‚

ä»¥ä¸Šä»£ç ç‰‡æ®µå±•ç¤ºäº†å¦‚ä½•å¤„ç†ä¾èµ–é¡¹çš„è§£æå’Œç‰ˆæœ¬æ£€æŸ¥ï¼Œè¿™åœ¨ä»»ä½•éœ€è¦ç®¡ç† Python åŒ…ä¾èµ–çš„é¡¹ç›®ä¸­éƒ½æ˜¯éå¸¸é‡è¦çš„ã€‚

è¿™ä¸ªæ–‡ä»¶ `checks.py` æ˜¯ Ultralytics YOLO é¡¹ç›®ä¸­çš„ä¸€ä¸ªå·¥å…·æ¨¡å—ï¼Œä¸»è¦ç”¨äºæ£€æŸ¥å’ŒéªŒè¯ç¯å¢ƒé…ç½®ã€ä¾èµ–å…³ç³»ã€æ–‡ä»¶è·¯å¾„ç­‰ã€‚æ–‡ä»¶ä¸­åŒ…å«äº†å¤šä¸ªå‡½æ•°ï¼Œæ¯ä¸ªå‡½æ•°éƒ½æœ‰ç‰¹å®šçš„åŠŸèƒ½ï¼Œä¸‹é¢æ˜¯å¯¹è¿™äº›å‡½æ•°çš„é€ä¸€è¯´æ˜ã€‚

é¦–å…ˆï¼Œæ–‡ä»¶å¯¼å…¥äº†ä¸€ç³»åˆ—å¿…è¦çš„åº“ï¼ŒåŒ…æ‹¬æ ‡å‡†åº“å’Œç¬¬ä¸‰æ–¹åº“ï¼Œå¦‚ `requests`ã€`torch` å’Œ `cv2` ç­‰ã€‚æ¥ç€ï¼Œå®šä¹‰äº†ä¸€äº›å®ç”¨çš„å·¥å…·å‡½æ•°ã€‚

`parse_requirements` å‡½æ•°ç”¨äºè§£æ `requirements.txt` æ–‡ä»¶ï¼Œæå–å‡ºéœ€è¦çš„ä¾èµ–åŒ…åŠå…¶ç‰ˆæœ¬ä¿¡æ¯ã€‚å®ƒä¼šå¿½ç•¥ä»¥ `#` å¼€å¤´çš„æ³¨é‡Šè¡Œï¼Œå¹¶è¿”å›ä¸€ä¸ªåŒ…å«åŒ…åå’Œç‰ˆæœ¬è§„èŒƒçš„å­—å…¸åˆ—è¡¨ã€‚

`parse_version` å‡½æ•°å°†ç‰ˆæœ¬å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•´æ•°å…ƒç»„ï¼Œæ–¹ä¾¿è¿›è¡Œç‰ˆæœ¬æ¯”è¾ƒã€‚å®ƒä¼šå¿½ç•¥ç‰ˆæœ¬å­—ç¬¦ä¸²ä¸­çš„éæ•°å­—éƒ¨åˆ†ï¼Œå¹¶è¿”å›ä¸€ä¸ªåŒ…å«ä¸»è¦ã€æ¬¡è¦å’Œä¿®è®¢å·çš„å…ƒç»„ã€‚

`is_ascii` å‡½æ•°æ£€æŸ¥ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ä»…ç”± ASCII å­—ç¬¦ç»„æˆï¼Œè¿”å›å¸ƒå°”å€¼ã€‚

`check_imgsz` å‡½æ•°ç”¨äºéªŒè¯å›¾åƒå°ºå¯¸æ˜¯å¦ä¸ºç»™å®šæ­¥å¹…çš„å€æ•°ã€‚å¦‚æœä¸æ˜¯ï¼Œå®ƒä¼šå°†å…¶è°ƒæ•´ä¸ºæœ€æ¥è¿‘çš„æœ‰æ•ˆå°ºå¯¸ã€‚

`check_version` å‡½æ•°ç”¨äºæ£€æŸ¥å½“å‰ç‰ˆæœ¬æ˜¯å¦æ»¡è¶³æ‰€éœ€ç‰ˆæœ¬çš„è¦æ±‚ï¼Œå¯ä»¥è¿›è¡Œç²¾ç¡®åŒ¹é…æˆ–èŒƒå›´åŒ¹é…ï¼Œå¹¶å¯ä»¥é€‰æ‹©æ˜¯å¦æŠ›å‡ºå¼‚å¸¸æˆ–æ‰“å°è­¦å‘Šä¿¡æ¯ã€‚

`check_latest_pypi_version` å‡½æ•°é€šè¿‡è®¿é—® PyPI è·å–æŒ‡å®šåŒ…çš„æœ€æ–°ç‰ˆæœ¬ä¿¡æ¯ï¼Œè€Œ `check_pip_update_available` å‡½æ•°åˆ™æ£€æŸ¥å½“å‰å®‰è£…çš„åŒ…æ˜¯å¦æœ‰å¯ç”¨çš„æ›´æ–°ã€‚

`check_font` å‡½æ•°ç”¨äºæŸ¥æ‰¾æœ¬åœ°å­—ä½“æ–‡ä»¶ï¼Œå¦‚æœæœªæ‰¾åˆ°ï¼Œåˆ™ä»æŒ‡å®š URL ä¸‹è½½å­—ä½“æ–‡ä»¶ã€‚

`check_python` å‡½æ•°æ£€æŸ¥å½“å‰ Python ç‰ˆæœ¬æ˜¯å¦æ»¡è¶³æœ€ä½è¦æ±‚ã€‚

`check_requirements` å‡½æ•°æ£€æŸ¥å·²å®‰è£…çš„ä¾èµ–æ˜¯å¦æ»¡è¶³ YOLOv8 çš„è¦æ±‚ï¼Œå¹¶å°è¯•è‡ªåŠ¨æ›´æ–°ä¸æ»¡è¶³è¦æ±‚çš„åŒ…ã€‚

`check_torchvision` å‡½æ•°æ£€æŸ¥å®‰è£…çš„ PyTorch å’Œ Torchvision ç‰ˆæœ¬æ˜¯å¦å…¼å®¹ï¼Œå¹¶ç»™å‡ºç›¸åº”çš„è­¦å‘Šã€‚

`check_suffix` å‡½æ•°æ£€æŸ¥æ–‡ä»¶çš„åç¼€æ˜¯å¦ç¬¦åˆè¦æ±‚ã€‚

`check_yolov5u_filename` å‡½æ•°ç”¨äºæ›¿æ¢æ—§çš„ YOLOv5 æ–‡ä»¶åä¸ºæ›´æ–°çš„ YOLOv5u æ–‡ä»¶åã€‚

`check_model_file_from_stem` å‡½æ•°æ ¹æ®æ¨¡å‹çš„åŸºç¡€åç§°è¿”å›æ¨¡å‹æ–‡ä»¶åã€‚

`check_file` å‡½æ•°ç”¨äºæœç´¢æˆ–ä¸‹è½½æ–‡ä»¶ï¼Œå¹¶è¿”å›å…¶è·¯å¾„ã€‚

`check_yaml` å‡½æ•°ç”¨äºæ£€æŸ¥ YAML æ–‡ä»¶çš„å­˜åœ¨æ€§ï¼Œå¹¶è¿”å›å…¶è·¯å¾„ã€‚

`check_is_path_safe` å‡½æ•°æ£€æŸ¥è§£æåçš„è·¯å¾„æ˜¯å¦åœ¨é¢„æœŸç›®å½•ä¸‹ï¼Œä»¥é˜²æ­¢è·¯å¾„éå†æ”»å‡»ã€‚

`check_imshow` å‡½æ•°æ£€æŸ¥å½“å‰ç¯å¢ƒæ˜¯å¦æ”¯æŒå›¾åƒæ˜¾ç¤ºã€‚

`check_yolo` å‡½æ•°è¿”å› YOLO è½¯ä»¶å’Œç¡¬ä»¶çš„å¯è¯»æ€§æ‘˜è¦ï¼Œå¹¶æ”¶é›†ç³»ç»Ÿä¿¡æ¯ã€‚

`collect_system_info` å‡½æ•°æ”¶é›†å¹¶æ‰“å°ç›¸å…³çš„ç³»ç»Ÿä¿¡æ¯ï¼ŒåŒ…æ‹¬æ“ä½œç³»ç»Ÿã€Python ç‰ˆæœ¬ã€å†…å­˜ã€CPU å’Œ CUDA ä¿¡æ¯ã€‚

`check_amp` å‡½æ•°æ£€æŸ¥ PyTorch çš„è‡ªåŠ¨æ··åˆç²¾åº¦ï¼ˆAMPï¼‰åŠŸèƒ½æ˜¯å¦æ­£å¸¸å·¥ä½œï¼Œä»¥é¿å…è®­ç»ƒæ—¶å‡ºç° NaN æŸå¤±æˆ–é›¶ mAP ç»“æœã€‚

`git_describe` å‡½æ•°è¿”å›å¯è¯»çš„ Git æè¿°ä¿¡æ¯ã€‚

`print_args` å‡½æ•°ç”¨äºæ‰“å°å‡½æ•°å‚æ•°ï¼Œæ”¯æŒä»è°ƒç”¨æ ˆä¸­è‡ªåŠ¨è·å–å‚æ•°ã€‚

`cuda_device_count` å‡½æ•°è·å–å¯ç”¨çš„ NVIDIA GPU æ•°é‡ã€‚

`cuda_is_available` å‡½æ•°æ£€æŸ¥ç¯å¢ƒä¸­æ˜¯å¦å¯ç”¨ CUDAã€‚

æ€»çš„æ¥è¯´ï¼Œè¿™ä¸ªæ–‡ä»¶æä¾›äº†ä¸€ç³»åˆ—å®ç”¨çš„å·¥å…·å‡½æ•°ï¼Œå¸®åŠ©å¼€å‘è€…æ£€æŸ¥å’ŒéªŒè¯ YOLO é¡¹ç›®çš„è¿è¡Œç¯å¢ƒå’Œä¾èµ–å…³ç³»ï¼Œç¡®ä¿æ¨¡å‹èƒ½å¤Ÿåœ¨æ­£ç¡®çš„é…ç½®ä¸‹è¿è¡Œã€‚

#### 11.2 70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰\ultralytics\nn\backbone\fasternet.py

ä»¥ä¸‹æ˜¯ç»è¿‡ç®€åŒ–å¹¶æ³¨é‡Šçš„æ ¸å¿ƒä»£ç éƒ¨åˆ†ï¼š

```python
import torch
import torch.nn as nn
from typing import List
from torch import Tensor

class Partial_conv3(nn.Module):
    """éƒ¨åˆ†å·ç§¯å±‚ï¼Œç”¨äºå¤„ç†è¾“å…¥ç‰¹å¾å›¾çš„ä¸åŒéƒ¨åˆ†"""
    
    def __init__(self, dim, n_div, forward):
        super().__init__()
        self.dim_conv3 = dim // n_div  # å·ç§¯é€šé“æ•°
        self.dim_untouched = dim - self.dim_conv3  # æœªæ”¹å˜çš„é€šé“æ•°
        self.partial_conv3 = nn.Conv2d(self.dim_conv3, self.dim_conv3, 3, 1, 1, bias=False)  # 3x3å·ç§¯

        # æ ¹æ®å‰å‘ä¼ æ’­æ–¹å¼é€‰æ‹©ä¸åŒçš„å‰å‘å‡½æ•°
        if forward == 'slicing':
            self.forward = self.forward_slicing
        elif forward == 'split_cat':
            self.forward = self.forward_split_cat
        else:
            raise NotImplementedError

    def forward_slicing(self, x: Tensor) -> Tensor:
        """ä»…ç”¨äºæ¨ç†é˜¶æ®µï¼Œä¿æŒåŸå§‹è¾“å…¥ä»¥ä¾¿åç»­æ®‹å·®è¿æ¥"""
        x = x.clone()  # å…‹éš†è¾“å…¥ä»¥ä¿æŒåŸå§‹æ•°æ®
        x[:, :self.dim_conv3, :, :] = self.partial_conv3(x[:, :self.dim_conv3, :, :])  # ä»…å¯¹éƒ¨åˆ†é€šé“è¿›è¡Œå·ç§¯
        return x

    def forward_split_cat(self, x: Tensor) -> Tensor:
        """ç”¨äºè®­ç»ƒå’Œæ¨ç†é˜¶æ®µï¼Œåˆ†å‰²è¾“å…¥å¹¶æ‹¼æ¥"""
        x1, x2 = torch.split(x, [self.dim_conv3, self.dim_untouched], dim=1)  # æŒ‰é€šé“åˆ†å‰²
        x1 = self.partial_conv3(x1)  # å¯¹åˆ†å‰²çš„éƒ¨åˆ†è¿›è¡Œå·ç§¯
        x = torch.cat((x1, x2), 1)  # æ‹¼æ¥å·ç§¯åçš„éƒ¨åˆ†å’Œæœªæ”¹å˜çš„éƒ¨åˆ†
        return x


class MLPBlock(nn.Module):
    """å¤šå±‚æ„ŸçŸ¥æœºå—ï¼Œç”¨äºç‰¹å¾å¤„ç†"""
    
    def __init__(self, dim, n_div, mlp_ratio, drop_path, layer_scale_init_value, act_layer, norm_layer, pconv_fw_type):
        super().__init__()
        self.dim = dim
        self.mlp_ratio = mlp_ratio
        self.drop_path = nn.Identity() if drop_path <= 0 else nn.Dropout(drop_path)  # éšæœºä¸¢å¼ƒå±‚
        self.n_div = n_div

        mlp_hidden_dim = int(dim * mlp_ratio)  # éšè—å±‚ç»´åº¦

        # å®šä¹‰MLPå±‚
        mlp_layer: List[nn.Module] = [
            nn.Conv2d(dim, mlp_hidden_dim, 1, bias=False),
            norm_layer(mlp_hidden_dim),
            act_layer(),
            nn.Conv2d(mlp_hidden_dim, dim, 1, bias=False)
        ]
        self.mlp = nn.Sequential(*mlp_layer)  # ç»„åˆæˆé¡ºåºæ¨¡å‹

        # åˆå§‹åŒ–éƒ¨åˆ†å·ç§¯
        self.spatial_mixing = Partial_conv3(dim, n_div, pconv_fw_type)

    def forward(self, x: Tensor) -> Tensor:
        """å‰å‘ä¼ æ’­"""
        shortcut = x  # ä¿å­˜è¾“å…¥ä»¥ä¾¿åç»­æ®‹å·®è¿æ¥
        x = self.spatial_mixing(x)  # é€šè¿‡éƒ¨åˆ†å·ç§¯å¤„ç†è¾“å…¥
        x = shortcut + self.drop_path(self.mlp(x))  # æ®‹å·®è¿æ¥
        return x


class FasterNet(nn.Module):
    """FasterNetä¸»ç½‘ç»œç»“æ„"""
    
    def __init__(self, in_chans=3, num_classes=1000, embed_dim=96, depths=(1, 2, 8, 2), mlp_ratio=2., n_div=4, 
                 patch_size=4, patch_stride=4, patch_size2=2, patch_stride2=2, patch_norm=True, drop_path_rate=0.1, 
                 layer_scale_init_value=0, norm_layer=nn.BatchNorm2d, act_layer=nn.ReLU):
        super().__init__()

        self.num_stages = len(depths)  # ç½‘ç»œé˜¶æ®µæ•°
        self.embed_dim = embed_dim  # åµŒå…¥ç»´åº¦
        self.mlp_ratio = mlp_ratio  # MLPæ¯”ç‡

        # åˆå§‹åŒ–PatchåµŒå…¥å±‚
        self.patch_embed = nn.Conv2d(in_chans, embed_dim, kernel_size=patch_size, stride=patch_stride, bias=False)

        # æ„å»ºå„ä¸ªé˜¶æ®µçš„ç½‘ç»œå±‚
        stages_list = []
        for i_stage in range(self.num_stages):
            stage = BasicStage(dim=int(embed_dim * 2 ** i_stage), n_div=n_div, depth=depths[i_stage], 
                               mlp_ratio=self.mlp_ratio, drop_path=drop_path_rate)
            stages_list.append(stage)

        self.stages = nn.Sequential(*stages_list)  # å°†å„ä¸ªé˜¶æ®µç»„åˆæˆé¡ºåºæ¨¡å‹

    def forward(self, x: Tensor) -> List[Tensor]:
        """å‰å‘ä¼ æ’­ï¼Œè¾“å‡ºå„é˜¶æ®µç‰¹å¾"""
        x = self.patch_embed(x)  # é€šè¿‡PatchåµŒå…¥å±‚å¤„ç†è¾“å…¥
        outs = []
        for stage in self.stages:
            x = stage(x)  # é€é˜¶æ®µå¤„ç†
            outs.append(x)  # æ”¶é›†è¾“å‡º
        return outs
```

### ä»£ç è¯´æ˜ï¼š
1. **Partial_conv3**: è¿™ä¸ªç±»å®ç°äº†éƒ¨åˆ†å·ç§¯å±‚ï¼Œå¯ä»¥é€‰æ‹©ä¸åŒçš„å‰å‘ä¼ æ’­æ–¹å¼ï¼ˆåˆ‡ç‰‡æˆ–æ‹¼æ¥ï¼‰ã€‚å®ƒä¸»è¦ç”¨äºåœ¨ç‰¹å¾å›¾çš„ä¸åŒéƒ¨åˆ†åº”ç”¨å·ç§¯æ“ä½œã€‚

2. **MLPBlock**: è¿™ä¸ªç±»å®ç°äº†ä¸€ä¸ªå¤šå±‚æ„ŸçŸ¥æœºå—ï¼ŒåŒ…å«å·ç§¯å±‚ã€å½’ä¸€åŒ–å±‚å’Œæ¿€æ´»å±‚ã€‚å®ƒé€šè¿‡æ®‹å·®è¿æ¥å°†è¾“å…¥ä¸ç»è¿‡å¤„ç†çš„è¾“å‡ºç›¸ç»“åˆã€‚

3. **FasterNet**: è¿™æ˜¯ä¸»ç½‘ç»œç»“æ„ï¼ŒåŒ…å«å¤šä¸ªé˜¶æ®µï¼Œæ¯ä¸ªé˜¶æ®µç”±å¤šä¸ªMLPBlockç»„æˆã€‚å®ƒé¦–å…ˆé€šè¿‡PatchåµŒå…¥å±‚å¤„ç†è¾“å…¥ï¼Œç„¶åé€é˜¶æ®µå¤„ç†å¹¶è¾“å‡ºç‰¹å¾ã€‚

è¿™äº›ç±»æ„æˆäº†ä¸€ä¸ªç”¨äºå›¾åƒå¤„ç†çš„æ·±åº¦å­¦ä¹ æ¨¡å‹çš„æ ¸å¿ƒéƒ¨åˆ†ã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶å®ç°äº†ä¸€ä¸ªåä¸ºFasterNetçš„æ·±åº¦å­¦ä¹ æ¨¡å‹ï¼Œä¸»è¦ç”¨äºè®¡ç®—æœºè§†è§‰ä»»åŠ¡ã€‚ä»£ç ä¸­åŒ…å«äº†å¤šä¸ªç±»å’Œå‡½æ•°ï¼Œæ„æˆäº†FasterNetçš„éª¨å¹²ç½‘ç»œã€‚é¦–å…ˆï¼Œæ–‡ä»¶å¯¼å…¥äº†å¿…è¦çš„åº“ï¼ŒåŒ…æ‹¬PyTorchå’Œä¸€äº›ç”¨äºæ„å»ºç¥ç»ç½‘ç»œçš„æ¨¡å—ã€‚

æ–‡ä»¶çš„æ ¸å¿ƒæ˜¯FasterNetç±»ï¼Œå®ƒç»§æ‰¿è‡ªnn.Moduleï¼Œå¹¶å®šä¹‰äº†æ¨¡å‹çš„ç»“æ„å’Œå‰å‘ä¼ æ’­è¿‡ç¨‹ã€‚æ„é€ å‡½æ•°ä¸­æ¥å—å¤šä¸ªå‚æ•°ï¼ŒåŒ…æ‹¬è¾“å…¥é€šé“æ•°ã€ç±»åˆ«æ•°ã€åµŒå…¥ç»´åº¦ã€å„å±‚æ·±åº¦ã€MLPæ¯”ç‡ã€åˆ†å‰²å‚æ•°ã€è¡¥ä¸å¤§å°å’Œæ­¥å¹…ç­‰ã€‚æ¨¡å‹çš„è®¾è®¡åŸºäºåˆ†å—å¤„ç†çš„æ€æƒ³ï¼Œå°†è¾“å…¥å›¾åƒåˆ’åˆ†ä¸ºå¤šä¸ªä¸é‡å çš„è¡¥ä¸ï¼Œå¹¶é€šè¿‡å·ç§¯å±‚è¿›è¡Œç‰¹å¾æå–ã€‚

åœ¨FasterNetç±»ä¸­ï¼Œé¦–å…ˆé€šè¿‡PatchEmbedç±»å°†è¾“å…¥å›¾åƒè½¬æ¢ä¸ºè¡¥ä¸ï¼Œå¹¶è¿›è¡ŒåµŒå…¥ã€‚æ¥ç€ï¼Œæ¨¡å‹é€šè¿‡å¤šä¸ªBasicStageå±‚è¿›è¡Œç‰¹å¾æå–ï¼Œæ¯ä¸ªBasicStageç”±å¤šä¸ªMLPBlockç»„æˆï¼ŒMLPBlockå®ç°äº†å¤šå±‚æ„ŸçŸ¥æœºçš„ç»“æ„ï¼Œå¹¶åŒ…å«äº†éƒ¨åˆ†å·ç§¯æ“ä½œä»¥æé«˜æ¨¡å‹çš„çµæ´»æ€§å’Œæ€§èƒ½ã€‚

æ¨¡å‹è¿˜å®ç°äº†ä¸€ä¸ªæ›´æ–°æƒé‡çš„å‡½æ•°update_weightï¼Œç”¨äºåŠ è½½é¢„è®­ç»ƒæ¨¡å‹çš„æƒé‡ã€‚æ–‡ä»¶ä¸­è¿˜å®šä¹‰äº†å¤šä¸ªå‡½æ•°ï¼ˆå¦‚fasternet_t0ã€fasternet_t1ç­‰ï¼‰ï¼Œè¿™äº›å‡½æ•°ç”¨äºåˆ›å»ºä¸åŒé…ç½®çš„FasterNetæ¨¡å‹ï¼Œå¹¶åŠ è½½ç›¸åº”çš„é…ç½®æ–‡ä»¶å’Œæƒé‡ã€‚

åœ¨æ–‡ä»¶çš„æœ€åéƒ¨åˆ†ï¼ŒåŒ…å«äº†ä¸€ä¸ªä¸»ç¨‹åºå—ï¼Œç”¨äºæµ‹è¯•æ¨¡å‹çš„åˆ›å»ºå’Œè¾“å…¥çš„å‰å‘ä¼ æ’­ã€‚é€šè¿‡éšæœºç”Ÿæˆçš„è¾“å…¥å¼ é‡ï¼Œæ¨¡å‹è¾“å‡ºå„ä¸ªé˜¶æ®µçš„ç‰¹å¾å›¾ï¼Œå¹¶æ‰“å°å…¶å°ºå¯¸ã€‚

æ•´ä½“æ¥çœ‹ï¼Œè¿™ä¸ªæ–‡ä»¶å±•ç¤ºäº†å¦‚ä½•æ„å»ºä¸€ä¸ªé«˜æ•ˆçš„æ·±åº¦å­¦ä¹ æ¨¡å‹ï¼Œç»“åˆäº†ç°ä»£ç¥ç»ç½‘ç»œè®¾è®¡çš„å¤šç§æŠ€æœ¯ï¼Œå¦‚åˆ†å—å¤„ç†ã€éƒ¨åˆ†å·ç§¯å’Œå±‚çº§ç»“æ„ï¼Œé€‚ç”¨äºå„ç§è®¡ç®—æœºè§†è§‰ä»»åŠ¡ã€‚

#### 11.3 ui.py

```python
import sys
import subprocess

def run_script(script_path):
    """
    ä½¿ç”¨å½“å‰ Python ç¯å¢ƒè¿è¡ŒæŒ‡å®šçš„è„šæœ¬ã€‚

    Args:
        script_path (str): è¦è¿è¡Œçš„è„šæœ¬è·¯å¾„

    Returns:
        None
    """
    # è·å–å½“å‰ Python è§£é‡Šå™¨çš„è·¯å¾„
    python_path = sys.executable

    # æ„å»ºè¿è¡Œå‘½ä»¤
    command = f'"{python_path}" -m streamlit run "{script_path}"'

    # æ‰§è¡Œå‘½ä»¤
    result = subprocess.run(command, shell=True)
    if result.returncode != 0:
        print("è„šæœ¬è¿è¡Œå‡ºé”™ã€‚")


# å®ä¾‹åŒ–å¹¶è¿è¡Œåº”ç”¨
if __name__ == "__main__":
    # æŒ‡å®šæ‚¨çš„è„šæœ¬è·¯å¾„
    script_path = "web.py"  # è¿™é‡Œç›´æ¥æŒ‡å®šè„šæœ¬è·¯å¾„

    # è¿è¡Œè„šæœ¬
    run_script(script_path)
```

### ä»£ç æ³¨é‡Šè¯´æ˜ï¼š

1. **å¯¼å…¥æ¨¡å—**ï¼š
   - `import sys`ï¼šå¯¼å…¥ç³»ç»Ÿç›¸å…³çš„æ¨¡å—ï¼Œç”¨äºè·å–å½“å‰ Python è§£é‡Šå™¨çš„è·¯å¾„ã€‚
   - `import subprocess`ï¼šå¯¼å…¥å­è¿›ç¨‹æ¨¡å—ï¼Œç”¨äºåœ¨ Python ä¸­æ‰§è¡Œå¤–éƒ¨å‘½ä»¤ã€‚

2. **å®šä¹‰å‡½æ•° `run_script`**ï¼š
   - å‡½æ•°æ¥å—ä¸€ä¸ªå‚æ•° `script_path`ï¼Œè¡¨ç¤ºè¦è¿è¡Œçš„ Python è„šæœ¬çš„è·¯å¾„ã€‚
   - ä½¿ç”¨ `sys.executable` è·å–å½“å‰ Python è§£é‡Šå™¨çš„å®Œæ•´è·¯å¾„ï¼Œä»¥ç¡®ä¿åœ¨æ­£ç¡®çš„ç¯å¢ƒä¸­è¿è¡Œè„šæœ¬ã€‚
   - æ„å»ºä¸€ä¸ªå‘½ä»¤å­—ç¬¦ä¸²ï¼Œä½¿ç”¨ `streamlit` æ¨¡å—è¿è¡ŒæŒ‡å®šçš„è„šæœ¬ã€‚
   - ä½¿ç”¨ `subprocess.run` æ‰§è¡Œæ„å»ºçš„å‘½ä»¤ï¼Œå¹¶æ£€æŸ¥è¿”å›ç ä»¥åˆ¤æ–­è„šæœ¬æ˜¯å¦æˆåŠŸè¿è¡Œã€‚

3. **ä¸»ç¨‹åºå—**ï¼š
   - `if __name__ == "__main__":` ç¡®ä¿è¯¥ä»£ç å—ä»…åœ¨ç›´æ¥è¿è¡Œè¯¥è„šæœ¬æ—¶æ‰§è¡Œï¼Œè€Œä¸æ˜¯ä½œä¸ºæ¨¡å—å¯¼å…¥æ—¶æ‰§è¡Œã€‚
   - æŒ‡å®šè¦è¿è¡Œçš„è„šæœ¬è·¯å¾„ `script_path`ï¼Œåœ¨è¿™é‡Œç›´æ¥æŒ‡å®šä¸º `"web.py"`ã€‚
   - è°ƒç”¨ `run_script` å‡½æ•°ï¼Œä¼ å…¥è„šæœ¬è·¯å¾„ä»¥æ‰§è¡Œè¯¥è„šæœ¬ã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶çš„ä¸»è¦åŠŸèƒ½æ˜¯é€šè¿‡å½“å‰çš„ Python ç¯å¢ƒæ¥è¿è¡Œä¸€ä¸ªæŒ‡å®šçš„è„šæœ¬ï¼Œå…·ä½“æ¥è¯´æ˜¯è¿è¡Œä¸€ä¸ªåä¸º `web.py` çš„è„šæœ¬ã€‚ç¨‹åºé¦–å…ˆå¯¼å…¥äº†å¿…è¦çš„æ¨¡å—ï¼ŒåŒ…æ‹¬ `sys`ã€`os` å’Œ `subprocess`ï¼Œè¿™äº›æ¨¡å—æä¾›äº†ä¸ç³»ç»Ÿäº¤äº’å’Œæ‰§è¡Œå¤–éƒ¨å‘½ä»¤çš„åŠŸèƒ½ã€‚æ­¤å¤–ï¼Œè¿˜å¯¼å…¥äº† `abs_path` å‡½æ•°ï¼Œç”¨äºè·å–è„šæœ¬çš„ç»å¯¹è·¯å¾„ã€‚

åœ¨ `run_script` å‡½æ•°ä¸­ï¼Œé¦–å…ˆè·å–å½“å‰ Python è§£é‡Šå™¨çš„è·¯å¾„ï¼Œè¿™æ ·å¯ä»¥ç¡®ä¿åœ¨æ­£ç¡®çš„ç¯å¢ƒä¸­è¿è¡Œè„šæœ¬ã€‚æ¥ç€ï¼Œæ„å»ºä¸€ä¸ªå‘½ä»¤å­—ç¬¦ä¸²ï¼Œä½¿ç”¨ `streamlit` æ¥è¿è¡ŒæŒ‡å®šçš„è„šæœ¬ã€‚è¿™é‡Œçš„å‘½ä»¤æ ¼å¼ä¸º `python -m streamlit run "script_path"`ï¼Œå…¶ä¸­ `script_path` æ˜¯ä¼ å…¥çš„è„šæœ¬è·¯å¾„ã€‚

ç„¶åï¼Œä½¿ç”¨ `subprocess.run` æ–¹æ³•æ‰§è¡Œè¿™ä¸ªå‘½ä»¤ã€‚è¯¥æ–¹æ³•ä¼šåœ¨ä¸€ä¸ªæ–°çš„ shell ä¸­è¿è¡Œå‘½ä»¤ï¼Œå¹¶ç­‰å¾…å…¶å®Œæˆã€‚å¦‚æœå‘½ä»¤æ‰§è¡Œåè¿”å›çš„çŠ¶æ€ç ä¸ä¸ºé›¶ï¼Œè¡¨ç¤ºè„šæœ¬è¿è¡Œå‡ºé”™ï¼Œç¨‹åºä¼šæ‰“å°å‡ºç›¸åº”çš„é”™è¯¯ä¿¡æ¯ã€‚

åœ¨æ–‡ä»¶çš„æœ€åéƒ¨åˆ†ï¼Œä½¿ç”¨ `if __name__ == "__main__":` æ¥ç¡®ä¿åªæœ‰åœ¨ç›´æ¥è¿è¡Œè¯¥æ–‡ä»¶æ—¶æ‰ä¼šæ‰§è¡Œåé¢çš„ä»£ç ã€‚åœ¨è¿™é‡Œï¼Œé¦–å…ˆè°ƒç”¨ `abs_path` å‡½æ•°æ¥è·å– `web.py` çš„ç»å¯¹è·¯å¾„ï¼Œç„¶åè°ƒç”¨ `run_script` å‡½æ•°æ¥è¿è¡Œè¿™ä¸ªè„šæœ¬ã€‚

æ€»ä½“è€Œè¨€ï¼Œè¿™ä¸ªç¨‹åºæä¾›äº†ä¸€ç§ç®€å•çš„æ–¹å¼æ¥å¯åŠ¨ä¸€ä¸ª Streamlit åº”ç”¨ï¼Œç¡®ä¿åœ¨å½“å‰ Python ç¯å¢ƒä¸­æ‰§è¡Œï¼Œä¾¿äºå¼€å‘å’Œæµ‹è¯•ã€‚

#### 11.4 code\ultralytics\engine\__init__.py

å½“ç„¶å¯ä»¥ï¼ä»¥ä¸‹æ˜¯ä»£ç çš„æ ¸å¿ƒéƒ¨åˆ†ï¼Œå¹¶é™„ä¸Šè¯¦ç»†çš„ä¸­æ–‡æ³¨é‡Šï¼š

```python
# Ultralytics YOLO ğŸš€, AGPL-3.0 license

# å¯¼å…¥å¿…è¦çš„åº“
import torch  # å¯¼å…¥PyTorchåº“ï¼Œç”¨äºæ·±åº¦å­¦ä¹ æ¨¡å‹çš„æ„å»ºå’Œè®­ç»ƒ
from models.experimental import attempt_load  # ä»modelsæ¨¡å—å¯¼å…¥attempt_loadå‡½æ•°ï¼Œç”¨äºåŠ è½½YOLOæ¨¡å‹
from utils.datasets import LoadImages  # ä»utilsæ¨¡å—å¯¼å…¥LoadImagesç±»ï¼Œç”¨äºåŠ è½½å›¾åƒæ•°æ®
from utils.general import non_max_suppression  # ä»utilsæ¨¡å—å¯¼å…¥non_max_suppressionå‡½æ•°ï¼Œç”¨äºåå¤„ç†æ£€æµ‹ç»“æœ
from utils.torch_utils import select_device  # ä»utilsæ¨¡å—å¯¼å…¥select_deviceå‡½æ•°ï¼Œç”¨äºé€‰æ‹©è®¡ç®—è®¾å¤‡ï¼ˆCPUæˆ–GPUï¼‰

# é€‰æ‹©è®¾å¤‡ï¼Œä¼˜å…ˆä½¿ç”¨GPU
device = select_device('')  # é€‰æ‹©è®¡ç®—è®¾å¤‡ï¼Œç©ºå­—ç¬¦ä¸²è¡¨ç¤ºè‡ªåŠ¨é€‰æ‹©

# åŠ è½½YOLOæ¨¡å‹
model = attempt_load('yolov5s.pt', map_location=device)  # åŠ è½½é¢„è®­ç»ƒçš„YOLOv5æ¨¡å‹ï¼ŒæŒ‡å®šè®¾å¤‡

# åŠ è½½å›¾åƒæ•°æ®
dataset = LoadImages('data/images', img_size=640)  # ä»æŒ‡å®šè·¯å¾„åŠ è½½å›¾åƒï¼Œè®¾ç½®è¾“å…¥å›¾åƒå¤§å°ä¸º640

# éå†æ•°æ®é›†ä¸­çš„æ¯ä¸€å¼ å›¾åƒ
for path, img, im0s, vid_cap in dataset:
    img = torch.from_numpy(img).to(device)  # å°†å›¾åƒè½¬æ¢ä¸ºTensorå¹¶ç§»åŠ¨åˆ°æŒ‡å®šè®¾å¤‡
    img = img.float() / 255.0  # å°†å›¾åƒåƒç´ å€¼å½’ä¸€åŒ–åˆ°[0, 1]èŒƒå›´
    img = img.unsqueeze(0)  # æ·»åŠ ä¸€ä¸ªç»´åº¦ï¼Œå½¢æˆæ‰¹å¤„ç†æ ¼å¼

    # è¿›è¡Œç›®æ ‡æ£€æµ‹
    pred = model(img)[0]  # ä½¿ç”¨æ¨¡å‹è¿›è¡Œæ¨ç†ï¼Œè·å–é¢„æµ‹ç»“æœ

    # åº”ç”¨éæå¤§å€¼æŠ‘åˆ¶ï¼Œè¿‡æ»¤æ‰å†—ä½™çš„æ£€æµ‹æ¡†
    pred = non_max_suppression(pred, conf_thres=0.25, iou_thres=0.45)  # è®¾ç½®ç½®ä¿¡åº¦é˜ˆå€¼å’ŒIOUé˜ˆå€¼

    # å¤„ç†æ¯ä¸ªæ£€æµ‹ç»“æœ
    for det in pred:  # éå†æ¯ä¸ªæ£€æµ‹ç»“æœ
        if det is not None and len(det):  # æ£€æŸ¥æ£€æµ‹ç»“æœæ˜¯å¦æœ‰æ•ˆ
            # TODO: åœ¨è¿™é‡Œå¯ä»¥æ·»åŠ ä»£ç æ¥å¤„ç†æ£€æµ‹ç»“æœï¼Œä¾‹å¦‚ç»˜åˆ¶æ¡†ã€ä¿å­˜ç»“æœç­‰
            pass  # å ä½ç¬¦ï¼Œè¡¨ç¤ºåç»­å¤„ç†é€»è¾‘
```

### ä»£ç æ ¸å¿ƒéƒ¨åˆ†è¯´æ˜ï¼š
1. **å¯¼å…¥åº“**ï¼šå¼•å…¥äº†å¿…è¦çš„åº“å’Œæ¨¡å—ï¼Œä¸»è¦ç”¨äºæ·±åº¦å­¦ä¹ æ¨¡å‹çš„æ„å»ºã€æ•°æ®åŠ è½½å’Œåå¤„ç†ã€‚
2. **é€‰æ‹©è®¾å¤‡**ï¼šé€šè¿‡`select_device`å‡½æ•°é€‰æ‹©è®¡ç®—è®¾å¤‡ï¼Œç¡®ä¿åœ¨å¯ç”¨çš„æƒ…å†µä¸‹ä¼˜å…ˆä½¿ç”¨GPUã€‚
3. **åŠ è½½æ¨¡å‹**ï¼šä½¿ç”¨`attempt_load`å‡½æ•°åŠ è½½é¢„è®­ç»ƒçš„YOLOæ¨¡å‹ï¼Œä»¥ä¾¿è¿›è¡Œç›®æ ‡æ£€æµ‹ã€‚
4. **åŠ è½½å›¾åƒæ•°æ®**ï¼šé€šè¿‡`LoadImages`ç±»åŠ è½½æŒ‡å®šè·¯å¾„ä¸‹çš„å›¾åƒæ•°æ®ï¼Œå¹¶è®¾ç½®è¾“å…¥å›¾åƒçš„å¤§å°ã€‚
5. **ç›®æ ‡æ£€æµ‹**ï¼šå¯¹æ¯å¼ å›¾åƒè¿›è¡Œæ¨ç†ï¼Œè·å–é¢„æµ‹ç»“æœï¼Œå¹¶é€šè¿‡éæå¤§å€¼æŠ‘åˆ¶è¿‡æ»¤å†—ä½™çš„æ£€æµ‹æ¡†ã€‚
6. **å¤„ç†æ£€æµ‹ç»“æœ**ï¼šéå†æ£€æµ‹ç»“æœï¼Œå‡†å¤‡è¿›è¡Œåç»­å¤„ç†ï¼ˆå¦‚ç»˜åˆ¶æ¡†ã€ä¿å­˜ç»“æœç­‰ï¼‰ã€‚

ä»¥ä¸Šæ˜¯ä»£ç çš„æ ¸å¿ƒéƒ¨åˆ†åŠå…¶è¯¦ç»†æ³¨é‡Šï¼Œæ—¨åœ¨å¸®åŠ©ç†è§£YOLOç›®æ ‡æ£€æµ‹çš„åŸºæœ¬æµç¨‹ã€‚

è¯¥æ–‡ä»¶æ˜¯Ultralytics YOLOé¡¹ç›®çš„ä¸€éƒ¨åˆ†ï¼Œä¸»è¦ç”¨äºå®ç°YOLOï¼ˆYou Only Look Onceï¼‰ç›®æ ‡æ£€æµ‹ç®—æ³•ã€‚æ–‡ä»¶çš„å¼€å¤´åŒ…å«äº†ä¸€æ¡æ³¨é‡Šï¼Œè¡¨æ˜è¯¥é¡¹ç›®éµå¾ªAGPL-3.0è®¸å¯è¯ï¼Œè¿™æ„å‘³ç€ç”¨æˆ·å¯ä»¥è‡ªç”±ä½¿ç”¨ã€ä¿®æ”¹å’Œåˆ†å‘è¯¥ä»£ç ï¼Œä½†å¿…é¡»åœ¨ç›¸åŒçš„è®¸å¯è¯ä¸‹åˆ†äº«ä¿®æ”¹åçš„ä»£ç ã€‚

å…·ä½“æ¥è¯´ï¼Œ`__init__.py`æ–‡ä»¶é€šå¸¸ç”¨äºå°†ä¸€ä¸ªç›®å½•æ ‡è¯†ä¸ºPythonåŒ…ï¼Œä½¿å¾—è¯¥ç›®å½•ä¸­çš„æ¨¡å—å¯ä»¥è¢«å¯¼å…¥ã€‚åœ¨Ultralytics YOLOé¡¹ç›®ä¸­ï¼Œè¿™ä¸ªæ–‡ä»¶å¯èƒ½ä¼šåŒ…å«ä¸€äº›åˆå§‹åŒ–ä»£ç ï¼Œæˆ–è€…å¯¼å…¥å…¶ä»–æ¨¡å—å’Œç±»ï¼Œä»¥ä¾¿ç”¨æˆ·èƒ½å¤Ÿæ–¹ä¾¿åœ°ä½¿ç”¨YOLOçš„åŠŸèƒ½ã€‚

è™½ç„¶æ–‡ä»¶å†…å®¹åªæœ‰ä¸€è¡Œæ³¨é‡Šï¼Œä½†å®ƒçš„å­˜åœ¨å¯¹äºæ•´ä¸ªåŒ…çš„ç»“æ„å’ŒåŠŸèƒ½æ˜¯è‡³å…³é‡è¦çš„ã€‚ç”¨æˆ·åœ¨ä½¿ç”¨Ultralytics YOLOæ—¶ï¼Œå¯ä»¥é€šè¿‡å¯¼å…¥è¿™ä¸ªåŒ…æ¥è®¿é—®ç›®æ ‡æ£€æµ‹çš„ç›¸å…³åŠŸèƒ½å’Œå·¥å…·ï¼Œä»è€Œå®ç°é«˜æ•ˆçš„ç›®æ ‡æ£€æµ‹ä»»åŠ¡ã€‚

#### 11.5 code\ultralytics\models\yolo\detect\val.py

ä»¥ä¸‹æ˜¯ä»£ç ä¸­æœ€æ ¸å¿ƒçš„éƒ¨åˆ†ï¼Œå¹¶é™„ä¸Šè¯¦ç»†çš„ä¸­æ–‡æ³¨é‡Šï¼š

```python
class DetectionValidator(BaseValidator):
    """
    DetectionValidatorç±»ç”¨äºåŸºäºæ£€æµ‹æ¨¡å‹çš„éªŒè¯ï¼Œç»§æ‰¿è‡ªBaseValidatorç±»ã€‚
    """

    def __init__(self, dataloader=None, save_dir=None, pbar=None, args=None, _callbacks=None):
        """åˆå§‹åŒ–æ£€æµ‹æ¨¡å‹æ‰€éœ€çš„å˜é‡å’Œè®¾ç½®ã€‚"""
        super().__init__(dataloader, save_dir, pbar, args, _callbacks)
        self.nt_per_class = None  # æ¯ä¸ªç±»åˆ«çš„ç›®æ ‡æ•°é‡
        self.is_coco = False  # æ˜¯å¦ä¸ºCOCOæ•°æ®é›†
        self.class_map = None  # ç±»åˆ«æ˜ å°„
        self.args.task = "detect"  # è®¾ç½®ä»»åŠ¡ä¸ºæ£€æµ‹
        self.metrics = DetMetrics(save_dir=self.save_dir, on_plot=self.on_plot)  # åˆå§‹åŒ–æ£€æµ‹æŒ‡æ ‡
        self.iouv = torch.linspace(0.5, 0.95, 10)  # å®šä¹‰IoUå‘é‡ï¼Œç”¨äºè®¡ç®—mAP@0.5:0.95
        self.niou = self.iouv.numel()  # IoUçš„æ•°é‡
        self.lb = []  # ç”¨äºè‡ªåŠ¨æ ‡æ³¨

    def preprocess(self, batch):
        """å¯¹YOLOè®­ç»ƒçš„å›¾åƒæ‰¹æ¬¡è¿›è¡Œé¢„å¤„ç†ã€‚"""
        batch["img"] = batch["img"].to(self.device, non_blocking=True)  # å°†å›¾åƒç§»åŠ¨åˆ°è®¾å¤‡ä¸Š
        batch["img"] = (batch["img"].half() if self.args.half else batch["img"].float()) / 255  # å½’ä¸€åŒ–å›¾åƒ
        for k in ["batch_idx", "cls", "bboxes"]:
            batch[k] = batch[k].to(self.device)  # å°†å…¶ä»–æ•°æ®ç§»åŠ¨åˆ°è®¾å¤‡ä¸Š

        # å¦‚æœéœ€è¦ä¿å­˜æ··åˆæ•°æ®ï¼Œè¿›è¡Œç›¸åº”å¤„ç†
        if self.args.save_hybrid:
            height, width = batch["img"].shape[2:]  # è·å–å›¾åƒçš„é«˜åº¦å’Œå®½åº¦
            nb = len(batch["img"])  # æ‰¹æ¬¡ä¸­çš„å›¾åƒæ•°é‡
            bboxes = batch["bboxes"] * torch.tensor((width, height, width, height), device=self.device)  # è°ƒæ•´è¾¹ç•Œæ¡†çš„åæ ‡
            self.lb = (
                [
                    torch.cat([batch["cls"][batch["batch_idx"] == i], bboxes[batch["batch_idx"] == i]], dim=-1)
                    for i in range(nb)
                ]
                if self.args.save_hybrid
                else []
            )  # ä¸ºè‡ªåŠ¨æ ‡æ³¨å‡†å¤‡æ•°æ®

        return batch  # è¿”å›å¤„ç†åçš„æ‰¹æ¬¡

    def postprocess(self, preds):
        """å¯¹é¢„æµ‹è¾“å‡ºåº”ç”¨éæå¤§å€¼æŠ‘åˆ¶ï¼ˆNMSï¼‰ã€‚"""
        return ops.non_max_suppression(
            preds,
            self.args.conf,  # ç½®ä¿¡åº¦é˜ˆå€¼
            self.args.iou,  # IoUé˜ˆå€¼
            labels=self.lb,  # æ ‡ç­¾
            multi_label=True,  # æ˜¯å¦æ”¯æŒå¤šæ ‡ç­¾
            agnostic=self.args.single_cls,  # æ˜¯å¦å•ç±»
            max_det=self.args.max_det,  # æœ€å¤§æ£€æµ‹æ•°é‡
        )

    def update_metrics(self, preds, batch):
        """æ›´æ–°æŒ‡æ ‡ç»Ÿè®¡ä¿¡æ¯ã€‚"""
        for si, pred in enumerate(preds):  # éå†æ¯ä¸ªé¢„æµ‹
            self.seen += 1  # è®°å½•å·²å¤„ç†çš„æ ·æœ¬æ•°é‡
            npr = len(pred)  # å½“å‰é¢„æµ‹çš„æ•°é‡
            stat = dict(
                conf=torch.zeros(0, device=self.device),
                pred_cls=torch.zeros(0, device=self.device),
                tp=torch.zeros(npr, self.niou, dtype=torch.bool, device=self.device),
            )
            pbatch = self._prepare_batch(si, batch)  # å‡†å¤‡å½“å‰æ‰¹æ¬¡çš„æ•°æ®
            cls, bbox = pbatch.pop("cls"), pbatch.pop("bbox")  # è·å–çœŸå®ç±»åˆ«å’Œè¾¹ç•Œæ¡†
            nl = len(cls)  # çœŸå®ç›®æ ‡æ•°é‡
            stat["target_cls"] = cls  # è®°å½•çœŸå®ç±»åˆ«

            if npr == 0:  # å¦‚æœæ²¡æœ‰é¢„æµ‹
                if nl:  # å¦‚æœæœ‰çœŸå®ç›®æ ‡
                    for k in self.stats.keys():
                        self.stats[k].append(stat[k])  # æ›´æ–°ç»Ÿè®¡ä¿¡æ¯
                continue  # ç»§ç»­ä¸‹ä¸€ä¸ªé¢„æµ‹

            # å¤„ç†é¢„æµ‹
            predn = self._prepare_pred(pred, pbatch)  # å‡†å¤‡é¢„æµ‹æ•°æ®
            stat["conf"] = predn[:, 4]  # ç½®ä¿¡åº¦
            stat["pred_cls"] = predn[:, 5]  # é¢„æµ‹ç±»åˆ«

            # è¯„ä¼°
            if nl:  # å¦‚æœæœ‰çœŸå®ç›®æ ‡
                stat["tp"] = self._process_batch(predn, bbox, cls)  # å¤„ç†å½“å‰æ‰¹æ¬¡çš„é¢„æµ‹
            for k in self.stats.keys():
                self.stats[k].append(stat[k])  # æ›´æ–°ç»Ÿè®¡ä¿¡æ¯

            # ä¿å­˜é¢„æµ‹ç»“æœ
            if self.args.save_json:
                self.pred_to_json(predn, batch["im_file"][si])  # ä¿å­˜ä¸ºJSONæ ¼å¼
            if self.args.save_txt:
                file = self.save_dir / "labels" / f'{Path(batch["im_file"][si]).stem}.txt'
                self.save_one_txt(predn, self.args.save_conf, pbatch["ori_shape"], file)  # ä¿å­˜ä¸ºTXTæ ¼å¼

    def get_stats(self):
        """è¿”å›æŒ‡æ ‡ç»Ÿè®¡ä¿¡æ¯å’Œç»“æœå­—å…¸ã€‚"""
        stats = {k: torch.cat(v, 0).cpu().numpy() for k, v in self.stats.items()}  # è½¬æ¢ä¸ºnumpyæ•°ç»„
        if len(stats) and stats["tp"].any():  # å¦‚æœæœ‰æ­£ç¡®é¢„æµ‹
            self.metrics.process(**stats)  # å¤„ç†æŒ‡æ ‡
        self.nt_per_class = np.bincount(
            stats["target_cls"].astype(int), minlength=self.nc
        )  # è®¡ç®—æ¯ä¸ªç±»åˆ«çš„ç›®æ ‡æ•°é‡
        return self.metrics.results_dict  # è¿”å›ç»“æœå­—å…¸
```

### ä¸»è¦åŠŸèƒ½è¯´æ˜ï¼š
1. **DetectionValidatorç±»**ï¼šç”¨äºéªŒè¯YOLOæ¨¡å‹çš„æ€§èƒ½ï¼Œç»§æ‰¿è‡ªåŸºç¡€éªŒè¯ç±»`BaseValidator`ã€‚
2. **åˆå§‹åŒ–æ–¹æ³•**ï¼šè®¾ç½®å¿…è¦çš„å˜é‡ï¼ŒåŒ…æ‹¬ç›®æ ‡æ•°é‡ã€ç±»åˆ«æ˜ å°„ã€æŒ‡æ ‡ç­‰ã€‚
3. **é¢„å¤„ç†æ–¹æ³•**ï¼šå¯¹è¾“å…¥çš„å›¾åƒæ‰¹æ¬¡è¿›è¡Œé¢„å¤„ç†ï¼ŒåŒ…æ‹¬å½’ä¸€åŒ–å’Œè®¾å¤‡è½¬ç§»ã€‚
4. **åå¤„ç†æ–¹æ³•**ï¼šåº”ç”¨éæå¤§å€¼æŠ‘åˆ¶ï¼Œè¿‡æ»¤æ‰å†—ä½™çš„é¢„æµ‹æ¡†ã€‚
5. **æ›´æ–°æŒ‡æ ‡**ï¼šåœ¨æ¯æ¬¡é¢„æµ‹åæ›´æ–°ç›¸å…³çš„ç»Ÿè®¡ä¿¡æ¯ï¼ŒåŒ…æ‹¬çœŸå®ç›®æ ‡å’Œé¢„æµ‹ç›®æ ‡çš„æ¯”è¾ƒã€‚
6. **è·å–ç»Ÿè®¡ä¿¡æ¯**ï¼šè¿”å›æœ€ç»ˆçš„æŒ‡æ ‡ç»Ÿè®¡ä¿¡æ¯å’Œç»“æœå­—å…¸ï¼Œä¾¿äºåç»­åˆ†æå’Œå¯è§†åŒ–ã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶æ˜¯ä¸€ä¸ªç”¨äºYOLOï¼ˆYou Only Look Onceï¼‰ç›®æ ‡æ£€æµ‹æ¨¡å‹éªŒè¯çš„å®ç°ï¼Œå±äºUltralyticsåº“çš„ä¸€éƒ¨åˆ†ã€‚æ–‡ä»¶ä¸­å®šä¹‰äº†ä¸€ä¸ªåä¸º`DetectionValidator`çš„ç±»ï¼Œç»§æ‰¿è‡ª`BaseValidator`ï¼Œå…¶ä¸»è¦åŠŸèƒ½æ˜¯å¯¹ç›®æ ‡æ£€æµ‹æ¨¡å‹çš„æ€§èƒ½è¿›è¡Œè¯„ä¼°å’ŒéªŒè¯ã€‚

åœ¨ç±»çš„åˆå§‹åŒ–æ–¹æ³•ä¸­ï¼Œè®¾ç½®äº†ä¸€äº›å¿…è¦çš„å˜é‡å’Œå‚æ•°ï¼ŒåŒ…æ‹¬æ•°æ®åŠ è½½å™¨ã€ä¿å­˜ç›®å½•ã€è¿›åº¦æ¡ã€å‘½ä»¤è¡Œå‚æ•°ç­‰ã€‚è¿˜åˆå§‹åŒ–äº†ä¸€äº›è¯„ä¼°æŒ‡æ ‡ï¼Œå¦‚æ£€æµ‹æŒ‡æ ‡ï¼ˆ`DetMetrics`ï¼‰å’Œæ··æ·†çŸ©é˜µï¼ˆ`ConfusionMatrix`ï¼‰ï¼Œå¹¶å®šä¹‰äº†ä¸€ä¸ªIoUï¼ˆIntersection over Unionï¼‰å‘é‡ï¼Œç”¨äºè®¡ç®—mAPï¼ˆmean Average Precisionï¼‰ã€‚

`preprocess`æ–¹æ³•è´Ÿè´£å¯¹è¾“å…¥çš„å›¾åƒæ‰¹æ¬¡è¿›è¡Œé¢„å¤„ç†ï¼ŒåŒ…æ‹¬å°†å›¾åƒè½¬æ¢ä¸ºé€‚åˆæ¨¡å‹è¾“å…¥çš„æ ¼å¼ï¼Œå¹¶æ ¹æ®éœ€è¦è¿›è¡Œå½’ä¸€åŒ–å¤„ç†ã€‚è¿˜å¯ä»¥æ ¹æ®å‚æ•°è®¾ç½®ç”Ÿæˆç”¨äºè‡ªåŠ¨æ ‡æ³¨çš„æ ‡ç­¾ã€‚

`init_metrics`æ–¹æ³•ç”¨äºåˆå§‹åŒ–è¯„ä¼°æŒ‡æ ‡ï¼Œæ£€æŸ¥æ•°æ®é›†æ˜¯å¦ä¸ºCOCOæ ¼å¼ï¼Œå¹¶æ ¹æ®æ¨¡å‹çš„ç±»åˆ«åç§°è®¾ç½®ç›¸å…³å‚æ•°ã€‚

`postprocess`æ–¹æ³•åº”ç”¨éæå¤§å€¼æŠ‘åˆ¶ï¼ˆNMSï¼‰æ¥å¤„ç†æ¨¡å‹çš„é¢„æµ‹è¾“å‡ºï¼Œä»¥å‡å°‘é‡å çš„æ£€æµ‹æ¡†ã€‚

`update_metrics`æ–¹æ³•ç”¨äºæ›´æ–°æ£€æµ‹æŒ‡æ ‡ï¼Œå¤„ç†æ¯ä¸ªæ‰¹æ¬¡çš„é¢„æµ‹ç»“æœï¼Œå¹¶ä¸çœŸå®æ ‡ç­¾è¿›è¡Œæ¯”è¾ƒï¼Œä»¥è®¡ç®—æ­£ç¡®é¢„æµ‹çš„æ•°é‡å’Œå…¶ä»–ç»Ÿè®¡ä¿¡æ¯ã€‚

`finalize_metrics`æ–¹æ³•ç”¨äºè®¾ç½®æœ€ç»ˆçš„æŒ‡æ ‡å€¼ï¼ŒåŒ…æ‹¬é€Ÿåº¦å’Œæ··æ·†çŸ©é˜µã€‚

`get_stats`æ–¹æ³•è¿”å›æŒ‡æ ‡ç»Ÿè®¡ä¿¡æ¯å’Œç»“æœå­—å…¸ï¼Œè®¡ç®—æ¯ä¸ªç±»åˆ«çš„ç›®æ ‡æ•°é‡ã€‚

`print_results`æ–¹æ³•æ‰“å°è®­ç»ƒæˆ–éªŒè¯é›†çš„æ¯ä¸ªç±»åˆ«çš„æŒ‡æ ‡ç»“æœï¼Œå¹¶åœ¨éœ€è¦æ—¶ç»˜åˆ¶æ··æ·†çŸ©é˜µã€‚

`build_dataset`å’Œ`get_dataloader`æ–¹æ³•ç”¨äºæ„å»ºYOLOæ•°æ®é›†å’Œæ•°æ®åŠ è½½å™¨ï¼Œä»¥ä¾¿åœ¨éªŒè¯è¿‡ç¨‹ä¸­ä½¿ç”¨ã€‚

`plot_val_samples`å’Œ`plot_predictions`æ–¹æ³•ç”¨äºå¯è§†åŒ–éªŒè¯æ ·æœ¬å’Œæ¨¡å‹é¢„æµ‹ç»“æœï¼Œå¹¶å°†ç»“æœä¿å­˜ä¸ºå›¾åƒæ–‡ä»¶ã€‚

`save_one_txt`å’Œ`pred_to_json`æ–¹æ³•ç”¨äºå°†YOLOæ£€æµ‹ç»“æœä¿å­˜ä¸ºæ–‡æœ¬æ–‡ä»¶æˆ–COCOæ ¼å¼çš„JSONæ–‡ä»¶ï¼Œä»¥ä¾¿åç»­åˆ†æå’Œè¯„ä¼°ã€‚

`eval_json`æ–¹æ³•ç”¨äºè¯„ä¼°YOLOè¾“å‡ºçš„JSONæ ¼å¼ç»“æœï¼Œå¹¶è¿”å›æ€§èƒ½ç»Ÿè®¡ä¿¡æ¯ï¼Œä½¿ç”¨pycocotoolsåº“è®¡ç®—mAPã€‚

æ•´ä½“è€Œè¨€ï¼Œè¿™ä¸ªæ–‡ä»¶å®ç°äº†YOLOæ¨¡å‹éªŒè¯çš„å®Œæ•´æµç¨‹ï¼ŒåŒ…æ‹¬æ•°æ®é¢„å¤„ç†ã€æ¨¡å‹é¢„æµ‹ã€æŒ‡æ ‡è®¡ç®—å’Œç»“æœä¿å­˜ï¼Œæ—¨åœ¨å¸®åŠ©ç”¨æˆ·è¯„ä¼°ç›®æ ‡æ£€æµ‹æ¨¡å‹çš„æ€§èƒ½ã€‚

#### 11.6 train.py

ä»¥ä¸‹æ˜¯ç»è¿‡ç®€åŒ–å’Œæ³¨é‡Šçš„æ ¸å¿ƒä»£ç éƒ¨åˆ†ï¼Œä¸»è¦ä¿ç•™äº†ä¸YOLOæ£€æµ‹æ¨¡å‹è®­ç»ƒç›¸å…³çš„åŠŸèƒ½å’Œæ–¹æ³•ï¼š

```python
import random
import numpy as np
import torch.nn as nn
from ultralytics.data import build_dataloader, build_yolo_dataset
from ultralytics.engine.trainer import BaseTrainer
from ultralytics.models import yolo
from ultralytics.nn.tasks import DetectionModel
from ultralytics.utils import LOGGER, RANK
from ultralytics.utils.torch_utils import de_parallel, torch_distributed_zero_first

class DetectionTrainer(BaseTrainer):
    """
    DetectionTrainerç±»ç”¨äºåŸºäºYOLOæ¨¡å‹è¿›è¡Œç›®æ ‡æ£€æµ‹çš„è®­ç»ƒã€‚
    """

    def build_dataset(self, img_path, mode="train", batch=None):
        """
        æ„å»ºYOLOæ•°æ®é›†ã€‚

        å‚æ•°:
            img_path (str): å›¾åƒæ–‡ä»¶å¤¹çš„è·¯å¾„ã€‚
            mode (str): æ¨¡å¼ï¼Œ'train'æˆ–'val'ï¼Œå¯ä»¥ä¸ºæ¯ç§æ¨¡å¼è‡ªå®šä¹‰ä¸åŒçš„æ•°æ®å¢å¼ºã€‚
            batch (int, optional): æ‰¹æ¬¡å¤§å°ï¼Œä»…ç”¨äº'val'æ¨¡å¼ã€‚
        """
        gs = max(int(de_parallel(self.model).stride.max() if self.model else 0), 32)  # è·å–æ¨¡å‹çš„æœ€å¤§æ­¥å¹…
        return build_yolo_dataset(self.args, img_path, batch, self.data, mode=mode, rect=mode == "val", stride=gs)

    def get_dataloader(self, dataset_path, batch_size=16, rank=0, mode="train"):
        """æ„å»ºå¹¶è¿”å›æ•°æ®åŠ è½½å™¨ã€‚"""
        assert mode in ["train", "val"]  # ç¡®ä¿æ¨¡å¼æœ‰æ•ˆ
        with torch_distributed_zero_first(rank):  # åœ¨åˆ†å¸ƒå¼è®­ç»ƒä¸­ï¼Œä»…åˆå§‹åŒ–ä¸€æ¬¡æ•°æ®é›†
            dataset = self.build_dataset(dataset_path, mode, batch_size)
        shuffle = mode == "train"  # è®­ç»ƒæ¨¡å¼ä¸‹æ‰“ä¹±æ•°æ®
        workers = self.args.workers if mode == "train" else self.args.workers * 2  # è®¾ç½®å·¥ä½œçº¿ç¨‹æ•°
        return build_dataloader(dataset, batch_size, workers, shuffle, rank)  # è¿”å›æ•°æ®åŠ è½½å™¨

    def preprocess_batch(self, batch):
        """å¯¹å›¾åƒæ‰¹æ¬¡è¿›è¡Œé¢„å¤„ç†ï¼ŒåŒ…æ‹¬ç¼©æ”¾å’Œè½¬æ¢ä¸ºæµ®ç‚¹æ•°ã€‚"""
        batch["img"] = batch["img"].to(self.device, non_blocking=True).float() / 255  # å°†å›¾åƒå½’ä¸€åŒ–åˆ°[0, 1]
        if self.args.multi_scale:  # å¦‚æœå¯ç”¨å¤šå°ºåº¦è®­ç»ƒ
            imgs = batch["img"]
            sz = (
                random.randrange(self.args.imgsz * 0.5, self.args.imgsz * 1.5 + self.stride)
                // self.stride
                * self.stride
            )  # éšæœºé€‰æ‹©æ–°çš„å›¾åƒå¤§å°
            sf = sz / max(imgs.shape[2:])  # è®¡ç®—ç¼©æ”¾å› å­
            if sf != 1:
                ns = [
                    math.ceil(x * sf / self.stride) * self.stride for x in imgs.shape[2:]
                ]  # è®¡ç®—æ–°çš„å½¢çŠ¶
                imgs = nn.functional.interpolate(imgs, size=ns, mode="bilinear", align_corners=False)  # è°ƒæ•´å›¾åƒå¤§å°
            batch["img"] = imgs
        return batch

    def get_model(self, cfg=None, weights=None, verbose=True):
        """è¿”å›YOLOæ£€æµ‹æ¨¡å‹ã€‚"""
        model = DetectionModel(cfg, nc=self.data["nc"], verbose=verbose and RANK == -1)  # åˆ›å»ºæ£€æµ‹æ¨¡å‹
        if weights:
            model.load(weights)  # åŠ è½½æƒé‡
        return model

    def plot_training_samples(self, batch, ni):
        """ç»˜åˆ¶è®­ç»ƒæ ·æœ¬åŠå…¶æ ‡æ³¨ã€‚"""
        plot_images(
            images=batch["img"],
            batch_idx=batch["batch_idx"],
            cls=batch["cls"].squeeze(-1),
            bboxes=batch["bboxes"],
            paths=batch["im_file"],
            fname=self.save_dir / f"train_batch{ni}.jpg",
            on_plot=self.on_plot,
        )

    def plot_metrics(self):
        """ä»CSVæ–‡ä»¶ä¸­ç»˜åˆ¶æŒ‡æ ‡ã€‚"""
        plot_results(file=self.csv, on_plot=self.on_plot)  # ä¿å­˜ç»“æœå›¾
```

### ä»£ç è¯´æ˜ï¼š
1. **DetectionTrainerç±»**ï¼šç»§æ‰¿è‡ª`BaseTrainer`ï¼Œç”¨äºYOLOæ¨¡å‹çš„è®­ç»ƒã€‚
2. **build_datasetæ–¹æ³•**ï¼šæ ¹æ®ç»™å®šçš„å›¾åƒè·¯å¾„å’Œæ¨¡å¼æ„å»ºYOLOæ•°æ®é›†ã€‚
3. **get_dataloaderæ–¹æ³•**ï¼šæ„å»ºå¹¶è¿”å›æ•°æ®åŠ è½½å™¨ï¼Œæ”¯æŒè®­ç»ƒå’ŒéªŒè¯æ¨¡å¼ã€‚
4. **preprocess_batchæ–¹æ³•**ï¼šå¯¹è¾“å…¥çš„å›¾åƒæ‰¹æ¬¡è¿›è¡Œé¢„å¤„ç†ï¼ŒåŒ…æ‹¬å½’ä¸€åŒ–å’Œå¯é€‰çš„å¤šå°ºåº¦è°ƒæ•´ã€‚
5. **get_modelæ–¹æ³•**ï¼šåˆ›å»ºå¹¶è¿”å›YOLOæ£€æµ‹æ¨¡å‹ï¼Œæ”¯æŒåŠ è½½é¢„è®­ç»ƒæƒé‡ã€‚
6. **plot_training_samplesæ–¹æ³•**ï¼šç»˜åˆ¶è®­ç»ƒæ ·æœ¬åŠå…¶å¯¹åº”çš„æ ‡æ³¨ä¿¡æ¯ã€‚
7. **plot_metricsæ–¹æ³•**ï¼šä»CSVæ–‡ä»¶ä¸­ç»˜åˆ¶è®­ç»ƒè¿‡ç¨‹ä¸­çš„æŒ‡æ ‡å›¾ã€‚

ä»¥ä¸Šæ˜¯æ ¸å¿ƒä»£ç çš„ç®€åŒ–ç‰ˆæœ¬ï¼Œæ³¨é‡Šè¯¦ç»†è¯´æ˜äº†æ¯ä¸ªæ–¹æ³•çš„åŠŸèƒ½å’Œå‚æ•°ã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶ `train.py` æ˜¯ä¸€ä¸ªç”¨äºè®­ç»ƒ YOLOï¼ˆYou Only Look Onceï¼‰ç›®æ ‡æ£€æµ‹æ¨¡å‹çš„å®ç°ï¼Œç»§æ‰¿è‡ª `BaseTrainer` ç±»ã€‚ç¨‹åºçš„ä¸»è¦åŠŸèƒ½æ˜¯æ„å»ºæ•°æ®é›†ã€åŠ è½½æ•°æ®ã€é¢„å¤„ç†å›¾åƒã€è®¾ç½®æ¨¡å‹å±æ€§ã€è·å–æ¨¡å‹ã€è¿›è¡ŒéªŒè¯ã€è®°å½•æŸå¤±ã€æ˜¾ç¤ºè®­ç»ƒè¿›åº¦ä»¥åŠç»˜åˆ¶è®­ç»ƒæ ·æœ¬å’ŒæŒ‡æ ‡ã€‚

é¦–å…ˆï¼Œç¨‹åºå¯¼å…¥äº†å¿…è¦çš„åº“å’Œæ¨¡å—ï¼ŒåŒ…æ‹¬æ•°å­¦è¿ç®—ã€éšæœºæ•°ç”Ÿæˆã€æ·±åº¦å­¦ä¹ ç›¸å…³çš„ PyTorch åº“ï¼Œä»¥åŠ YOLO æ¨¡å‹å’Œæ•°æ®å¤„ç†çš„ç›¸å…³æ¨¡å—ã€‚æ¥ç€å®šä¹‰äº† `DetectionTrainer` ç±»ï¼Œè¿™ä¸ªç±»ä¸“é—¨ç”¨äºå¤„ç†åŸºäºæ£€æµ‹æ¨¡å‹çš„è®­ç»ƒã€‚

åœ¨ `build_dataset` æ–¹æ³•ä¸­ï¼Œç¨‹åºæ ¹æ®ä¼ å…¥çš„å›¾åƒè·¯å¾„å’Œæ¨¡å¼ï¼ˆè®­ç»ƒæˆ–éªŒè¯ï¼‰æ„å»º YOLO æ•°æ®é›†ã€‚è¯¥æ–¹æ³•ä¼šæ ¹æ®æ¨¡å‹çš„æ­¥å¹…è®¡ç®—åˆé€‚çš„å°ºå¯¸ï¼Œå¹¶è°ƒç”¨ `build_yolo_dataset` å‡½æ•°æ¥åˆ›å»ºæ•°æ®é›†ã€‚

`get_dataloader` æ–¹æ³•åˆ™ç”¨äºæ„å»ºæ•°æ®åŠ è½½å™¨ã€‚å®ƒä¼šæ ¹æ®æ¨¡å¼é€‰æ‹©æ˜¯å¦æ‰“ä¹±æ•°æ®ï¼Œå¹¶ä¸”åœ¨åˆ†å¸ƒå¼è®­ç»ƒæ—¶ç¡®ä¿æ•°æ®é›†åªåˆå§‹åŒ–ä¸€æ¬¡ã€‚åŠ è½½å™¨çš„å·¥ä½œçº¿ç¨‹æ•°é‡æ ¹æ®è®­ç»ƒæˆ–éªŒè¯æ¨¡å¼è¿›è¡Œè°ƒæ•´ã€‚

`preprocess_batch` æ–¹æ³•è´Ÿè´£å¯¹æ¯ä¸ªæ‰¹æ¬¡çš„å›¾åƒè¿›è¡Œé¢„å¤„ç†ï¼ŒåŒ…æ‹¬å°†å›¾åƒç¼©æ”¾åˆ°é€‚å½“çš„å¤§å°å¹¶è½¬æ¢ä¸ºæµ®ç‚¹æ•°ã€‚è‹¥å¯ç”¨äº†å¤šå°ºåº¦è®­ç»ƒï¼Œå›¾åƒçš„å¤§å°ä¼šåœ¨ä¸€å®šèŒƒå›´å†…éšæœºå˜åŒ–ï¼Œä»¥å¢å¼ºæ¨¡å‹çš„é²æ£’æ€§ã€‚

`set_model_attributes` æ–¹æ³•ç”¨äºè®¾ç½®æ¨¡å‹çš„å±æ€§ï¼ŒåŒ…æ‹¬ç±»åˆ«æ•°é‡å’Œç±»åˆ«åç§°ç­‰ã€‚è¿™äº›å±æ€§å°†å½±å“æ¨¡å‹çš„è®­ç»ƒå’Œé¢„æµ‹ã€‚

`get_model` æ–¹æ³•è¿”å›ä¸€ä¸ª YOLO æ£€æµ‹æ¨¡å‹å®ä¾‹ï¼Œå¹¶å¯é€‰æ‹©åŠ è½½é¢„è®­ç»ƒæƒé‡ã€‚`get_validator` æ–¹æ³•åˆ™è¿”å›ä¸€ä¸ªç”¨äºéªŒè¯æ¨¡å‹æ€§èƒ½çš„éªŒè¯å™¨ã€‚

åœ¨ `label_loss_items` æ–¹æ³•ä¸­ï¼Œç¨‹åºå°†æŸå¤±é¡¹è½¬æ¢ä¸ºå­—å…¸æ ¼å¼ï¼Œä»¥ä¾¿äºè®°å½•å’Œåˆ†æè®­ç»ƒè¿‡ç¨‹ä¸­çš„æŸå¤±æƒ…å†µã€‚

`progress_string` æ–¹æ³•è¿”å›ä¸€ä¸ªæ ¼å¼åŒ–çš„å­—ç¬¦ä¸²ï¼Œæ˜¾ç¤ºè®­ç»ƒè¿›åº¦ï¼ŒåŒ…æ‹¬å½“å‰çš„ epochã€GPU å†…å­˜ä½¿ç”¨æƒ…å†µã€æŸå¤±å€¼ã€å®ä¾‹æ•°é‡å’Œå›¾åƒå¤§å°ç­‰ä¿¡æ¯ã€‚

`plot_training_samples` æ–¹æ³•ç”¨äºç»˜åˆ¶è®­ç»ƒæ ·æœ¬åŠå…¶æ ‡æ³¨ï¼Œå¸®åŠ©å¯è§†åŒ–è®­ç»ƒæ•°æ®çš„è´¨é‡ã€‚`plot_metrics` å’Œ `plot_training_labels` æ–¹æ³•åˆ™ç”¨äºç»˜åˆ¶è®­ç»ƒè¿‡ç¨‹ä¸­çš„æŒ‡æ ‡å’Œæ ‡ç­¾ï¼Œä¾¿äºåˆ†ææ¨¡å‹çš„è®­ç»ƒæ•ˆæœã€‚

æ€»ä½“è€Œè¨€ï¼Œè¿™ä¸ªæ–‡ä»¶å®ç°äº† YOLO æ¨¡å‹è®­ç»ƒçš„æ ¸å¿ƒåŠŸèƒ½ï¼Œæ¶µç›–äº†æ•°æ®å¤„ç†ã€æ¨¡å‹æ„å»ºã€è®­ç»ƒè¿‡ç¨‹ç›‘æ§å’Œç»“æœå¯è§†åŒ–ç­‰å¤šä¸ªæ–¹é¢ã€‚

### 12.ç³»ç»Ÿæ•´ä½“ç»“æ„ï¼ˆèŠ‚é€‰ï¼‰

### æ•´ä½“åŠŸèƒ½å’Œæ„æ¶æ¦‚æ‹¬

è¯¥é¡¹ç›®æ˜¯ä¸€ä¸ªå®ç°YOLOï¼ˆYou Only Look Onceï¼‰ç›®æ ‡æ£€æµ‹ç®—æ³•çš„å®Œæ•´æ¡†æ¶ï¼Œæ—¨åœ¨æä¾›ä¸€ä¸ªé«˜æ•ˆã€çµæ´»çš„è®­ç»ƒå’ŒéªŒè¯æµç¨‹ã€‚é¡¹ç›®çš„æ ¸å¿ƒåŠŸèƒ½åŒ…æ‹¬æ•°æ®é›†æ„å»ºã€æ¨¡å‹è®­ç»ƒã€éªŒè¯ã€æŸå¤±è®¡ç®—å’Œç»“æœå¯è§†åŒ–ã€‚æ•´ä½“æ¶æ„ç”±å¤šä¸ªæ¨¡å—ç»„æˆï¼Œæ¯ä¸ªæ¨¡å—è´Ÿè´£ç‰¹å®šçš„åŠŸèƒ½ï¼Œä»è€Œå®ç°äº†è‰¯å¥½çš„æ¨¡å—åŒ–è®¾è®¡ã€‚

- **æ•°æ®å¤„ç†**ï¼šé€šè¿‡æ•°æ®åŠ è½½å™¨å’Œæ•°æ®é›†æ„å»ºæ¨¡å—ï¼Œé¡¹ç›®èƒ½å¤Ÿå¤„ç†ä¸åŒæ ¼å¼çš„è¾“å…¥æ•°æ®ï¼Œå¹¶è¿›è¡Œå¿…è¦çš„é¢„å¤„ç†ã€‚
- **æ¨¡å‹å®šä¹‰**ï¼šå®ç°äº†å¤šç§YOLOæ¨¡å‹æ¶æ„ï¼ˆå¦‚FasterNetã€EfficientViTç­‰ï¼‰ï¼Œå¹¶æä¾›äº†é¢„è®­ç»ƒæƒé‡çš„åŠ è½½åŠŸèƒ½ã€‚
- **è®­ç»ƒä¸éªŒè¯**ï¼šæä¾›äº†è®­ç»ƒå’ŒéªŒè¯çš„æ ¸å¿ƒé€»è¾‘ï¼ŒåŒ…æ‹¬æŸå¤±è®¡ç®—ã€æŒ‡æ ‡è¯„ä¼°å’Œç»“æœå¯è§†åŒ–ã€‚
- **å·¥å…·å‡½æ•°**ï¼šåŒ…å«äº†ä¸€ç³»åˆ—å®ç”¨çš„å·¥å…·å‡½æ•°ï¼Œç”¨äºæ£€æŸ¥ç¯å¢ƒé…ç½®ã€è§£æä¾èµ–å…³ç³»ç­‰ã€‚

### æ–‡ä»¶åŠŸèƒ½æ•´ç†è¡¨

| æ–‡ä»¶è·¯å¾„                                                                                      | åŠŸèƒ½æè¿°                                                                                     |
|-----------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------|
| `code\ultralytics\utils\checks.py`                                                          | æä¾›ç¯å¢ƒæ£€æŸ¥ã€ä¾èµ–éªŒè¯ã€æ–‡ä»¶è·¯å¾„æ£€æŸ¥ç­‰å·¥å…·å‡½æ•°ï¼Œç¡®ä¿é¡¹ç›®åœ¨æ­£ç¡®çš„é…ç½®ä¸‹è¿è¡Œã€‚               |
| `70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰\ultralytics\nn\backbone\fasternet.py` | å®ç°FasterNetæ¨¡å‹çš„ç»“æ„ï¼Œæ”¯æŒå›¾åƒåˆ†å—å¤„ç†å’Œç‰¹å¾æå–ï¼Œé€‚ç”¨äºè®¡ç®—æœºè§†è§‰ä»»åŠ¡ã€‚                |
| `ui.py`                                                                                      | é€šè¿‡å‘½ä»¤è¡Œè¿è¡ŒæŒ‡å®šçš„Streamlitè„šæœ¬ï¼Œæä¾›ç”¨æˆ·ç•Œé¢åŠŸèƒ½ã€‚                                      |
| `code\ultralytics\engine\__init__.py`                                                      | æ ‡è¯†ä¸ºPythonåŒ…ï¼Œå¯èƒ½åŒ…å«ä¸€äº›åˆå§‹åŒ–ä»£ç æˆ–å¯¼å…¥å…¶ä»–æ¨¡å—ã€‚                                    |
| `code\ultralytics\models\yolo\detect\val.py`                                               | å®ç°YOLOæ¨¡å‹çš„éªŒè¯é€»è¾‘ï¼ŒåŒ…æ‹¬æ•°æ®é¢„å¤„ç†ã€æ¨¡å‹é¢„æµ‹ã€æŒ‡æ ‡è®¡ç®—å’Œç»“æœä¿å­˜ã€‚                    |
| `train.py`                                                                                   | å®ç°YOLOæ¨¡å‹çš„è®­ç»ƒæµç¨‹ï¼ŒåŒ…æ‹¬æ•°æ®åŠ è½½ã€æ¨¡å‹æ„å»ºã€è®­ç»ƒç›‘æ§å’Œç»“æœå¯è§†åŒ–ã€‚                    |
| `70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰\ultralytics\nn\extra_modules\kernel_warehouse.py` | æä¾›é¢å¤–çš„æ¨¡å—æˆ–åŠŸèƒ½ï¼Œå¯èƒ½æ¶‰åŠç‰¹å®šçš„æ¨¡å‹æˆ–ç®—æ³•å®ç°ã€‚                                       |
| `70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰\ultralytics\models\__init__.py`   | æ ‡è¯†ä¸ºYOLOæ¨¡å‹åŒ…ï¼Œå¯èƒ½åŒ…å«æ¨¡å‹çš„åˆå§‹åŒ–å’Œå¯¼å…¥é€»è¾‘ã€‚                                        |
| `code\ultralytics\nn\autobackend.py`                                                       | å®ç°è‡ªåŠ¨åç«¯é€‰æ‹©é€»è¾‘ï¼Œå¯èƒ½æ¶‰åŠæ¨¡å‹è®­ç»ƒæˆ–æ¨ç†æ—¶çš„åç«¯é…ç½®ã€‚                                 |
| `70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰\ultralytics\models\yolo\model.py`  | å®šä¹‰YOLOæ¨¡å‹çš„å…·ä½“ç»“æ„å’Œå‰å‘ä¼ æ’­é€»è¾‘ï¼Œæ”¯æŒä¸åŒçš„YOLOç‰ˆæœ¬å’Œé…ç½®ã€‚                           |
| `70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰\ultralytics\engine\trainer.py`    | å®ç°è®­ç»ƒè¿‡ç¨‹çš„æ ¸å¿ƒé€»è¾‘ï¼ŒåŒ…æ‹¬è®­ç»ƒå¾ªç¯ã€æŸå¤±è®¡ç®—å’Œæ¨¡å‹æ›´æ–°ã€‚                                 |
| `70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰\ultralytics\utils\loss.py`       | å®šä¹‰æŸå¤±å‡½æ•°çš„è®¡ç®—é€»è¾‘ï¼Œç”¨äºè®­ç»ƒè¿‡ç¨‹ä¸­è¯„ä¼°æ¨¡å‹æ€§èƒ½ã€‚                                      |
| `70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰\ultralytics\nn\backbone\efficientViT.py` | å®ç°EfficientViTæ¨¡å‹çš„ç»“æ„ï¼Œæ”¯æŒé«˜æ•ˆçš„è§†è§‰ä»»åŠ¡å¤„ç†ã€‚                                     |

ä»¥ä¸Šè¡¨æ ¼æ€»ç»“äº†é¡¹ç›®ä¸­å„ä¸ªæ–‡ä»¶çš„åŠŸèƒ½ï¼Œå±•ç¤ºäº†é¡¹ç›®çš„æ¨¡å—åŒ–è®¾è®¡å’ŒåŠŸèƒ½åˆ†å¸ƒã€‚

æ³¨æ„ï¼šç”±äºæ­¤åšå®¢ç¼–è¾‘è¾ƒæ—©ï¼Œä¸Šé¢â€œ11.é¡¹ç›®æ ¸å¿ƒæºç è®²è§£ï¼ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒçœ‹ä¸æ‡‚ä»£ç é€»è¾‘ï¼‰â€ä¸­éƒ¨åˆ†ä»£ç å¯èƒ½ä¼šä¼˜åŒ–å‡çº§ï¼Œä»…ä¾›å‚è€ƒå­¦ä¹ ï¼Œå®Œæ•´â€œè®­ç»ƒæºç â€ã€â€œWebå‰ç«¯ç•Œé¢â€å’Œâ€œ70+ç§åˆ›æ–°ç‚¹æºç â€ä»¥â€œ13.å®Œæ•´è®­ç»ƒ+Webå‰ç«¯ç•Œé¢+70+ç§åˆ›æ–°ç‚¹æºç ã€æ•°æ®é›†è·å–â€çš„å†…å®¹ä¸ºå‡†ã€‚

### 13.å®Œæ•´è®­ç»ƒ+Webå‰ç«¯ç•Œé¢+70+ç§åˆ›æ–°ç‚¹æºç ã€æ•°æ®é›†è·å–

![19.png](19.png)


# [ä¸‹è½½é“¾æ¥ï¼šhttps://mbd.pub/o/bread/ZpuVmZls](https://mbd.pub/o/bread/ZpuVmZls)